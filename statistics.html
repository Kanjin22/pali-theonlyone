<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Sarabun', sans-serif; line-height: 1.8; margin: 0; background-color: #f4f7f6; }
        .container { max-width: 900px; margin: 20px auto; padding: 20px 40px; background-color: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.05); border-radius: 8px; }
        h1 { color: #2c3e50; border-bottom: 2px solid #34495e; padding-bottom: 10px; text-align: center; }
        h2 { color: #34495e; margin-top: 40px; }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .stat-card {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border-top: 4px solid #3498db;
        }
        .stat-card.grammar { border-top-color: #3498db; }
        .stat-card.translate { border-top-color: #27ae60; }
        .stat-card .value {
            font-size: 3em;
            font-weight: 700;
            color: #2c3e50;
        }
        .stat-card .label {
            font-size: 1.1em;
            color: #7f8c8d;
            margin-top: 5px;
        }
        .progress-bar-container {
            width: 100%;
            background-color: #ecf0f1;
            border-radius: 10px;
            margin-top: 15px;
        }
        .progress-bar {
            width: 0; /* JS will set this */
            height: 20px;
            background-color: #3498db;
            border-radius: 10px;
            text-align: center;
            line-height: 20px;
            color: white;
            font-weight: bold;
            transition: width 1s ease-out;
        }
        .home-link { display: block; text-align: center; margin-top: 40px; padding: 10px 20px; background-color: #34495e; color: #fff; text-decoration: none; border-radius: 5px; width: fit-content; margin-left: auto; margin-right: auto;}
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤</h1>

        <h2>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <div id="total-days" class="value">...</div>
                <div class="label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
            </div>
            <div class="stat-card grammar">
                <div id="total-grammar-exams" class="value">...</div>
                <div class="label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏≠‡∏ö‡πÑ‡∏ß‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</div>
            </div>
            <div class="stat-card translate">
                <div id="total-translate-gengs" class="value">...</div>
                <div class="label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏Å‡πá‡∏á‡πÅ‡∏õ‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
            </div>
        </div>

        <h2>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
        <div class="progress-bar-container">
            <div id="overall-progress" class="progress-bar">0%</div>
        </div>

        <a href="index.html" class="home-link">&larr; ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
    </div>

    <!-- *** ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô *** -->
    <script src="data-november.js"></script>
    <script src="data-december.js"></script>
    <script src="data-january.js"></script>
    <script src="data-february.js"></script>

    <script>
        // ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
        const allScheduleData = [
            ...(typeof dataNovember !== 'undefined' ? dataNovember : []),
            ...(typeof dataDecember !== 'undefined' ? dataDecember : []),
            ...(typeof dataJanuary !== 'undefined' ? dataJanuary : []),
            ...(typeof dataFebruary !== 'undefined' ? dataFebruary : []),
        ];
        
        // (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå data-....js ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏à‡∏≤‡∏Å scheduleData ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)
        // ‡πÄ‡∏ä‡πà‡∏ô ‡πÉ‡∏ô data-november.js ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô const dataNovember = [ ... ];

        document.addEventListener('DOMContentLoaded', () => {
            let totalDays = 0;
            let totalGrammarExams = 0;
            let totalTranslateGengs = 0;
            const today = new Date();
            today.setHours(0,0,0,0); // ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÅ‡∏Ñ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
            let daysCompleted = 0;

            allScheduleData.forEach(item => {
                if (!item.isWeekend) {
                    totalDays++;

                    const itemDate = new Date(item.date);
                    if (itemDate < today) {
                        daysCompleted++;
                    }

                    if (item.afternoon && item.afternoon.isExam && item.afternoon.fileExamGrammar) {
                        totalGrammarExams++;
                    }
                    if (item.remarks && item.remarks.translate) {
                        if (Array.isArray(item.remarks.translate)) {
                            totalTranslateGengs += item.remarks.translate.length;
                        } else {
                            totalTranslateGengs++;
                        }
                    }
                }
            });

            // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤
            const progressPercentage = totalDays > 0 ? Math.round((daysCompleted / totalDays) * 100) : 0;

            // ‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
            document.getElementById('total-days').textContent = totalDays;
            document.getElementById('total-grammar-exams').textContent = totalGrammarExams;
            document.getElementById('total-translate-gengs').textContent = totalTranslateGengs;
            
            const progressBar = document.getElementById('overall-progress');
            // ‡πÉ‡∏ä‡πâ setTimeout ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î animation
            setTimeout(() => {
                progressBar.style.width = progressPercentage + '%';
                progressBar.textContent = progressPercentage + '%';
            }, 500);
        });
    </script>
</body>
</html>
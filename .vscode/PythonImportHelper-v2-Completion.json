[
    {
        "label": "sqlite3",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "sqlite3",
        "description": "sqlite3",
        "detail": "sqlite3",
        "documentation": {}
    },
    {
        "label": "json",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "json",
        "description": "json",
        "detail": "json",
        "documentation": {}
    },
    {
        "label": "os",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "os",
        "description": "os",
        "detail": "os",
        "documentation": {}
    },
    {
        "label": "re",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "re",
        "description": "re",
        "detail": "re",
        "documentation": {}
    },
    {
        "label": "convert_db_to_js",
        "kind": 2,
        "importPath": "scripts.convert_newgen_db",
        "description": "scripts.convert_newgen_db",
        "peekOfCode": "def convert_db_to_js():\n    print(f\"Connecting to database: {db_path}\")\n    conn = sqlite3.connect(db_path)\n    cursor = conn.cursor()\n    # Get total count\n    cursor.execute(\"SELECT COUNT(*) FROM palithaiNewGen\")\n    count = cursor.fetchone()[0]\n    print(f\"Total records found: {count}\")\n    # Fetch data\n    cursor.execute(\"SELECT Paliword, content FROM palithaiNewGen\")",
        "detail": "scripts.convert_newgen_db",
        "documentation": {}
    },
    {
        "label": "db_path",
        "kind": 5,
        "importPath": "scripts.convert_newgen_db",
        "description": "scripts.convert_newgen_db",
        "peekOfCode": "db_path = r'd:\\pali-theonlyone\\data\\DB\\palitothai_newgen.db'\noutput_path = r'd:\\pali-theonlyone\\data\\vocab-newgen.js'\ndef convert_db_to_js():\n    print(f\"Connecting to database: {db_path}\")\n    conn = sqlite3.connect(db_path)\n    cursor = conn.cursor()\n    # Get total count\n    cursor.execute(\"SELECT COUNT(*) FROM palithaiNewGen\")\n    count = cursor.fetchone()[0]\n    print(f\"Total records found: {count}\")",
        "detail": "scripts.convert_newgen_db",
        "documentation": {}
    },
    {
        "label": "output_path",
        "kind": 5,
        "importPath": "scripts.convert_newgen_db",
        "description": "scripts.convert_newgen_db",
        "peekOfCode": "output_path = r'd:\\pali-theonlyone\\data\\vocab-newgen.js'\ndef convert_db_to_js():\n    print(f\"Connecting to database: {db_path}\")\n    conn = sqlite3.connect(db_path)\n    cursor = conn.cursor()\n    # Get total count\n    cursor.execute(\"SELECT COUNT(*) FROM palithaiNewGen\")\n    count = cursor.fetchone()[0]\n    print(f\"Total records found: {count}\")\n    # Fetch data",
        "detail": "scripts.convert_newgen_db",
        "documentation": {}
    },
    {
        "label": "inspect_db",
        "kind": 2,
        "importPath": "scripts.inspect_db",
        "description": "scripts.inspect_db",
        "peekOfCode": "def inspect_db():\n    if not os.path.exists(db_path):\n        print(f\"Error: Database file not found at {db_path}\")\n        print(\"Please copy 'palitothai_newgen' to 'd:\\\\pali-theonlyone\\\\data\\\\'\")\n        return\n    try:\n        conn = sqlite3.connect(db_path)\n        cursor = conn.cursor()\n        # Get all tables\n        cursor.execute(\"SELECT name FROM sqlite_master WHERE type='table';\")",
        "detail": "scripts.inspect_db",
        "documentation": {}
    },
    {
        "label": "db_path",
        "kind": 5,
        "importPath": "scripts.inspect_db",
        "description": "scripts.inspect_db",
        "peekOfCode": "db_path = r'd:\\pali-theonlyone\\data\\DB\\palitothai_newgen.db'\ndef inspect_db():\n    if not os.path.exists(db_path):\n        print(f\"Error: Database file not found at {db_path}\")\n        print(\"Please copy 'palitothai_newgen' to 'd:\\\\pali-theonlyone\\\\data\\\\'\")\n        return\n    try:\n        conn = sqlite3.connect(db_path)\n        cursor = conn.cursor()\n        # Get all tables",
        "detail": "scripts.inspect_db",
        "documentation": {}
    },
    {
        "label": "db_path",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "db_path = \"dpd_data/dpd.db\"\noutput_path = \"data/vocab-dpd.js\"\nprint(f\"Connecting to {db_path}...\")\nconn = sqlite3.connect(db_path)\nconn.row_factory = sqlite3.Row\ncursor = conn.cursor()\nprint(\"Querying headwords...\")\ncursor.execute(\"SELECT lemma_1, pos, meaning_1, meaning_lit, construction FROM dpd_headwords\")\nrows = cursor.fetchall()\ndictionary = {}",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "output_path",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "output_path = \"data/vocab-dpd.js\"\nprint(f\"Connecting to {db_path}...\")\nconn = sqlite3.connect(db_path)\nconn.row_factory = sqlite3.Row\ncursor = conn.cursor()\nprint(\"Querying headwords...\")\ncursor.execute(\"SELECT lemma_1, pos, meaning_1, meaning_lit, construction FROM dpd_headwords\")\nrows = cursor.fetchall()\ndictionary = {}\ncount = 0",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "conn",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "conn = sqlite3.connect(db_path)\nconn.row_factory = sqlite3.Row\ncursor = conn.cursor()\nprint(\"Querying headwords...\")\ncursor.execute(\"SELECT lemma_1, pos, meaning_1, meaning_lit, construction FROM dpd_headwords\")\nrows = cursor.fetchall()\ndictionary = {}\ncount = 0\nfor row in rows:\n    lemma = row['lemma_1']",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "conn.row_factory",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "conn.row_factory = sqlite3.Row\ncursor = conn.cursor()\nprint(\"Querying headwords...\")\ncursor.execute(\"SELECT lemma_1, pos, meaning_1, meaning_lit, construction FROM dpd_headwords\")\nrows = cursor.fetchall()\ndictionary = {}\ncount = 0\nfor row in rows:\n    lemma = row['lemma_1']\n    # Clean lemma: remove digits and dots at the end (e.g., \"metta 1\", \"a 1.1\")",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "cursor",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "cursor = conn.cursor()\nprint(\"Querying headwords...\")\ncursor.execute(\"SELECT lemma_1, pos, meaning_1, meaning_lit, construction FROM dpd_headwords\")\nrows = cursor.fetchall()\ndictionary = {}\ncount = 0\nfor row in rows:\n    lemma = row['lemma_1']\n    # Clean lemma: remove digits and dots at the end (e.g., \"metta 1\", \"a 1.1\")\n    # Usually it is \"word digit\" or \"word digit.digit\"",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "rows",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "rows = cursor.fetchall()\ndictionary = {}\ncount = 0\nfor row in rows:\n    lemma = row['lemma_1']\n    # Clean lemma: remove digits and dots at the end (e.g., \"metta 1\", \"a 1.1\")\n    # Usually it is \"word digit\" or \"word digit.digit\"\n    # But sometimes the word itself might have numbers? Unlikely for Pali.\n    word = re.sub(r'\\s+\\d+(\\.\\d+)?$', '', lemma).strip()\n    meaning = row['meaning_1']",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "dictionary",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "dictionary = {}\ncount = 0\nfor row in rows:\n    lemma = row['lemma_1']\n    # Clean lemma: remove digits and dots at the end (e.g., \"metta 1\", \"a 1.1\")\n    # Usually it is \"word digit\" or \"word digit.digit\"\n    # But sometimes the word itself might have numbers? Unlikely for Pali.\n    word = re.sub(r'\\s+\\d+(\\.\\d+)?$', '', lemma).strip()\n    meaning = row['meaning_1']\n    if not meaning:",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "count",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "count = 0\nfor row in rows:\n    lemma = row['lemma_1']\n    # Clean lemma: remove digits and dots at the end (e.g., \"metta 1\", \"a 1.1\")\n    # Usually it is \"word digit\" or \"word digit.digit\"\n    # But sometimes the word itself might have numbers? Unlikely for Pali.\n    word = re.sub(r'\\s+\\d+(\\.\\d+)?$', '', lemma).strip()\n    meaning = row['meaning_1']\n    if not meaning:\n        continue",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "final_dict",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "final_dict = {}\nfor k, v in dictionary.items():\n    final_dict[k] = \"<br>\".join(v)\nprint(\"Writing to file...\")\nwith open(output_path, \"w\", encoding=\"utf-8\") as f:\n    f.write(\"const vocabDPD = \")\n    json.dump(final_dict, f, ensure_ascii=False)\n    f.write(\";\")\nprint(f\"Done. Saved to {output_path}\")",
        "detail": "extract_dpd",
        "documentation": {}
    }
]
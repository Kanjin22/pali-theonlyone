[
    {
        "label": "json",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "json",
        "description": "json",
        "detail": "json",
        "documentation": {}
    },
    {
        "label": "sqlite3",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "sqlite3",
        "description": "sqlite3",
        "detail": "sqlite3",
        "documentation": {}
    },
    {
        "label": "os",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "os",
        "description": "os",
        "detail": "os",
        "documentation": {}
    },
    {
        "label": "React,",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "React.",
        "description": "React.",
        "detail": "React.",
        "documentation": {}
    },
    {
        "label": "{",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "{",
        "description": "{",
        "detail": "{",
        "documentation": {}
    },
    {
        "label": "LoadingSpinner",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "LoadingSpinner",
        "description": "LoadingSpinner",
        "detail": "LoadingSpinner",
        "documentation": {}
    },
    {
        "label": "KathaRenderer",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "KathaRenderer",
        "description": "KathaRenderer",
        "detail": "KathaRenderer",
        "documentation": {}
    },
    {
        "label": "'./App.css';",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "'..App.css';",
        "description": "'..App.css';",
        "detail": "'..App.css';",
        "documentation": {}
    },
    {
        "label": "Header",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "Header",
        "description": "Header",
        "detail": "Header",
        "documentation": {}
    },
    {
        "label": "Footer",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "Footer",
        "description": "Footer",
        "detail": "Footer",
        "documentation": {}
    },
    {
        "label": "Login",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "Login",
        "description": "Login",
        "detail": "Login",
        "documentation": {}
    },
    {
        "label": "DhatuDetail",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "DhatuDetail",
        "description": "DhatuDetail",
        "detail": "DhatuDetail",
        "documentation": {}
    },
    {
        "label": "SearchPage",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "SearchPage",
        "description": "SearchPage",
        "detail": "SearchPage",
        "documentation": {}
    },
    {
        "label": "KathaListPage",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "KathaListPage",
        "description": "KathaListPage",
        "detail": "KathaListPage",
        "documentation": {}
    },
    {
        "label": "'react-toastify/dist/ReactToastify.css';",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "'react-toastify.dist.ReactToastify.css';",
        "description": "'react-toastify.dist.ReactToastify.css';",
        "detail": "'react-toastify.dist.ReactToastify.css';",
        "documentation": {}
    },
    {
        "label": "AdminLayout",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "AdminLayout",
        "description": "AdminLayout",
        "detail": "AdminLayout",
        "documentation": {}
    },
    {
        "label": "AdminSubmissions",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "AdminSubmissions",
        "description": "AdminSubmissions",
        "detail": "AdminSubmissions",
        "documentation": {}
    },
    {
        "label": "AdminDhatuManagement",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "AdminDhatuManagement",
        "description": "AdminDhatuManagement",
        "detail": "AdminDhatuManagement",
        "documentation": {}
    },
    {
        "label": "AdminUserManagement",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "AdminUserManagement",
        "description": "AdminUserManagement",
        "detail": "AdminUserManagement",
        "documentation": {}
    },
    {
        "label": "AdminAddDhatu",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "AdminAddDhatu",
        "description": "AdminAddDhatu",
        "detail": "AdminAddDhatu",
        "documentation": {}
    },
    {
        "label": "AboutPage",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "AboutPage",
        "description": "AboutPage",
        "detail": "AboutPage",
        "documentation": {}
    },
    {
        "label": "ContactPage",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "ContactPage",
        "description": "ContactPage",
        "detail": "ContactPage",
        "documentation": {}
    },
    {
        "label": "PrinciplesPage",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "PrinciplesPage",
        "description": "PrinciplesPage",
        "detail": "PrinciplesPage",
        "documentation": {}
    },
    {
        "label": "FlashcardsPage",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "FlashcardsPage",
        "description": "FlashcardsPage",
        "detail": "FlashcardsPage",
        "documentation": {}
    },
    {
        "label": "VerseDetailPage",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "VerseDetailPage",
        "description": "VerseDetailPage",
        "detail": "VerseDetailPage",
        "documentation": {}
    },
    {
        "label": "AllDhatusPage",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "AllDhatusPage",
        "description": "AllDhatusPage",
        "detail": "AllDhatusPage",
        "documentation": {}
    },
    {
        "label": "AdminKathaManagement",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "AdminKathaManagement",
        "description": "AdminKathaManagement",
        "detail": "AdminKathaManagement",
        "documentation": {}
    },
    {
        "label": "AdminAddKatha",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "AdminAddKatha",
        "description": "AdminAddKatha",
        "detail": "AdminAddKatha",
        "documentation": {}
    },
    {
        "label": "React",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "React",
        "description": "React",
        "detail": "React",
        "documentation": {}
    },
    {
        "label": "requests",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "requests",
        "description": "requests",
        "detail": "requests",
        "documentation": {}
    },
    {
        "label": "BeautifulSoup",
        "importPath": "bs4",
        "description": "bs4",
        "isExtraImport": true,
        "detail": "bs4",
        "documentation": {}
    },
    {
        "label": "BeautifulSoup",
        "importPath": "bs4",
        "description": "bs4",
        "isExtraImport": true,
        "detail": "bs4",
        "documentation": {}
    },
    {
        "label": "BeautifulSoup",
        "importPath": "bs4",
        "description": "bs4",
        "isExtraImport": true,
        "detail": "bs4",
        "documentation": {}
    },
    {
        "label": "BeautifulSoup",
        "importPath": "bs4",
        "description": "bs4",
        "isExtraImport": true,
        "detail": "bs4",
        "documentation": {}
    },
    {
        "label": "BeautifulSoup",
        "importPath": "bs4",
        "description": "bs4",
        "isExtraImport": true,
        "detail": "bs4",
        "documentation": {}
    },
    {
        "label": "time",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "time",
        "description": "time",
        "detail": "time",
        "documentation": {}
    },
    {
        "label": "random",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "random",
        "description": "random",
        "detail": "random",
        "documentation": {}
    },
    {
        "label": "Image",
        "importPath": "PIL",
        "description": "PIL",
        "isExtraImport": true,
        "detail": "PIL",
        "documentation": {}
    },
    {
        "label": "ImageDraw",
        "importPath": "PIL",
        "description": "PIL",
        "isExtraImport": true,
        "detail": "PIL",
        "documentation": {}
    },
    {
        "label": "ImageFont",
        "importPath": "PIL",
        "description": "PIL",
        "isExtraImport": true,
        "detail": "PIL",
        "documentation": {}
    },
    {
        "label": "re",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "re",
        "description": "re",
        "detail": "re",
        "documentation": {}
    },
    {
        "label": "total_entries",
        "kind": 5,
        "importPath": "scripts.check_stats",
        "description": "scripts.check_stats",
        "peekOfCode": "total_entries = sum(len(entries) for entries in data.values())\nunique_roots = len(data)\nprint(f\"Unique Roots: {unique_roots}\")\nprint(f\"Total Entries: {total_entries}\")",
        "detail": "scripts.check_stats",
        "documentation": {}
    },
    {
        "label": "unique_roots",
        "kind": 5,
        "importPath": "scripts.check_stats",
        "description": "scripts.check_stats",
        "peekOfCode": "unique_roots = len(data)\nprint(f\"Unique Roots: {unique_roots}\")\nprint(f\"Total Entries: {total_entries}\")",
        "detail": "scripts.check_stats",
        "documentation": {}
    },
    {
        "label": "input_file",
        "kind": 5,
        "importPath": "scripts.convert_detailed_roots",
        "description": "scripts.convert_detailed_roots",
        "peekOfCode": "input_file = \"data/vocab-roots-detailed.json\"\noutput_file = \"data/vocab-roots.js\"\nwith open(input_file, \"r\", encoding=\"utf-8\") as f:\n    data = json.load(f)\nprint(f\"Loaded {len(data)} roots.\")\n# Transform to JS object string\njs_content = \"const vocabRoots = \" + json.dumps(data, ensure_ascii=False, indent=2) + \";\"\nwith open(output_file, \"w\", encoding=\"utf-8\") as f:\n    f.write(js_content)\nprint(f\"Saved to {output_file}\")",
        "detail": "scripts.convert_detailed_roots",
        "documentation": {}
    },
    {
        "label": "output_file",
        "kind": 5,
        "importPath": "scripts.convert_detailed_roots",
        "description": "scripts.convert_detailed_roots",
        "peekOfCode": "output_file = \"data/vocab-roots.js\"\nwith open(input_file, \"r\", encoding=\"utf-8\") as f:\n    data = json.load(f)\nprint(f\"Loaded {len(data)} roots.\")\n# Transform to JS object string\njs_content = \"const vocabRoots = \" + json.dumps(data, ensure_ascii=False, indent=2) + \";\"\nwith open(output_file, \"w\", encoding=\"utf-8\") as f:\n    f.write(js_content)\nprint(f\"Saved to {output_file}\")",
        "detail": "scripts.convert_detailed_roots",
        "documentation": {}
    },
    {
        "label": "js_content",
        "kind": 5,
        "importPath": "scripts.convert_detailed_roots",
        "description": "scripts.convert_detailed_roots",
        "peekOfCode": "js_content = \"const vocabRoots = \" + json.dumps(data, ensure_ascii=False, indent=2) + \";\"\nwith open(output_file, \"w\", encoding=\"utf-8\") as f:\n    f.write(js_content)\nprint(f\"Saved to {output_file}\")",
        "detail": "scripts.convert_detailed_roots",
        "documentation": {}
    },
    {
        "label": "convert_db_to_js",
        "kind": 2,
        "importPath": "scripts.convert_newgen_db",
        "description": "scripts.convert_newgen_db",
        "peekOfCode": "def convert_db_to_js():\n    print(f\"Connecting to database: {db_path}\")\n    conn = sqlite3.connect(db_path)\n    cursor = conn.cursor()\n    # Get total count\n    cursor.execute(\"SELECT COUNT(*) FROM palithaiNewGen\")\n    count = cursor.fetchone()[0]\n    print(f\"Total records found: {count}\")\n    # Fetch data\n    cursor.execute(\"SELECT Paliword, content FROM palithaiNewGen\")",
        "detail": "scripts.convert_newgen_db",
        "documentation": {}
    },
    {
        "label": "db_path",
        "kind": 5,
        "importPath": "scripts.convert_newgen_db",
        "description": "scripts.convert_newgen_db",
        "peekOfCode": "db_path = r'd:\\pali-theonlyone\\data\\DB\\palitothai_newgen.db'\noutput_path = r'd:\\pali-theonlyone\\data\\vocab-newgen.js'\ndef convert_db_to_js():\n    print(f\"Connecting to database: {db_path}\")\n    conn = sqlite3.connect(db_path)\n    cursor = conn.cursor()\n    # Get total count\n    cursor.execute(\"SELECT COUNT(*) FROM palithaiNewGen\")\n    count = cursor.fetchone()[0]\n    print(f\"Total records found: {count}\")",
        "detail": "scripts.convert_newgen_db",
        "documentation": {}
    },
    {
        "label": "output_path",
        "kind": 5,
        "importPath": "scripts.convert_newgen_db",
        "description": "scripts.convert_newgen_db",
        "peekOfCode": "output_path = r'd:\\pali-theonlyone\\data\\vocab-newgen.js'\ndef convert_db_to_js():\n    print(f\"Connecting to database: {db_path}\")\n    conn = sqlite3.connect(db_path)\n    cursor = conn.cursor()\n    # Get total count\n    cursor.execute(\"SELECT COUNT(*) FROM palithaiNewGen\")\n    count = cursor.fetchone()[0]\n    print(f\"Total records found: {count}\")\n    # Fetch data",
        "detail": "scripts.convert_newgen_db",
        "documentation": {}
    },
    {
        "label": "write_file",
        "kind": 2,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "def write_file(path, content):\n    with open(path, \"w\", encoding=\"utf-8\") as f:\n        f.write(content.strip())\n    print(f\"Updated: {path}\")\n# Execute updates\nwrite_file(KATHA_LIST_PATH, katha_list_content)\nwrite_file(SEARCH_PAGE_PATH, search_page_content)\nwrite_file(APP_CSS_PATH, app_css_content)\nwrite_file(APP_JS_PATH, app_js_content)\nwrite_file(HEADER_JS_PATH, header_js_content)",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "KATHA_LIST_PATH",
        "kind": 5,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "KATHA_LIST_PATH = r\"D:\\pali-dhatu-app\\src\\pages\\KathaListPage.js\"\nSEARCH_PAGE_PATH = r\"D:\\pali-dhatu-app\\src\\pages\\SearchPage.js\"\nAPP_CSS_PATH = r\"D:\\pali-dhatu-app\\src\\App.css\"\nAPP_JS_PATH = r\"D:\\pali-dhatu-app\\src\\App.js\"\nHEADER_JS_PATH = r\"D:\\pali-dhatu-app\\src\\components\\Header.js\"\n# --- KathaListPage.js ---\nkatha_list_content = \"\"\"\nimport React, { useState, useEffect } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "SEARCH_PAGE_PATH",
        "kind": 5,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "SEARCH_PAGE_PATH = r\"D:\\pali-dhatu-app\\src\\pages\\SearchPage.js\"\nAPP_CSS_PATH = r\"D:\\pali-dhatu-app\\src\\App.css\"\nAPP_JS_PATH = r\"D:\\pali-dhatu-app\\src\\App.js\"\nHEADER_JS_PATH = r\"D:\\pali-dhatu-app\\src\\components\\Header.js\"\n# --- KathaListPage.js ---\nkatha_list_content = \"\"\"\nimport React, { useState, useEffect } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport { Link } from 'react-router-dom';",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "APP_CSS_PATH",
        "kind": 5,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "APP_CSS_PATH = r\"D:\\pali-dhatu-app\\src\\App.css\"\nAPP_JS_PATH = r\"D:\\pali-dhatu-app\\src\\App.js\"\nHEADER_JS_PATH = r\"D:\\pali-dhatu-app\\src\\components\\Header.js\"\n# --- KathaListPage.js ---\nkatha_list_content = \"\"\"\nimport React, { useState, useEffect } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "APP_JS_PATH",
        "kind": 5,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "APP_JS_PATH = r\"D:\\pali-dhatu-app\\src\\App.js\"\nHEADER_JS_PATH = r\"D:\\pali-dhatu-app\\src\\components\\Header.js\"\n# --- KathaListPage.js ---\nkatha_list_content = \"\"\"\nimport React, { useState, useEffect } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport KathaRenderer from '../components/KathaRenderer';",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "HEADER_JS_PATH",
        "kind": 5,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "HEADER_JS_PATH = r\"D:\\pali-dhatu-app\\src\\components\\Header.js\"\n# --- KathaListPage.js ---\nkatha_list_content = \"\"\"\nimport React, { useState, useEffect } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport KathaRenderer from '../components/KathaRenderer';\nfunction KathaListPage() {",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "katha_list_content",
        "kind": 5,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "katha_list_content = \"\"\"\nimport React, { useState, useEffect } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport KathaRenderer from '../components/KathaRenderer';\nfunction KathaListPage() {\n    const [kathas, setKathas] = useState([]);\n    const [loading, setLoading] = useState(true);",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "search_page_content",
        "kind": 5,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "search_page_content = \"\"\"\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction SearchPage() {\n    const [allDhatus, setAllDhatus] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [searchText, setSearchText] = useState('');",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "app_css_content",
        "kind": 5,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "app_css_content = \"\"\"\n/* ===== LIGHT THEME: \"Modern Classroom\" ===== */\n:root {\n  --primary-color: #3498db;      /* Blue header */\n  --primary-dark: #2980b9;\n  --accent-color: #e67e22;       /* Orange accents */\n  --bg-color: #f8f9fa;           /* Light gray background */\n  --card-bg: #ffffff;\n  --text-primary: #2c3e50;       /* Dark gray text */\n  --text-secondary: #7f8c8d;",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "app_js_content",
        "kind": 5,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "app_js_content = \"\"\"\n// src/App.js\nimport './App.css';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Login from './components/Login';\nimport DhatuDetail from './components/DhatuDetail';\nimport SearchPage from './pages/SearchPage';\nimport KathaListPage from './pages/KathaListPage'; // Changed from HomePage\nimport { AuthProvider } from './contexts/AuthContext';",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "header_js_content",
        "kind": 5,
        "importPath": "scripts.create_update_script",
        "description": "scripts.create_update_script",
        "peekOfCode": "header_js_content = \"\"\"\n// src/components/Header.js\nimport React from 'react';\nimport { Link, NavLink, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { signOut } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nfunction Header() {\n  const { currentUser } = useAuth();\n  const navigate = useNavigate();",
        "detail": "scripts.create_update_script",
        "documentation": {}
    },
    {
        "label": "url",
        "kind": 5,
        "importPath": "scripts.fetch_detail_raw",
        "description": "scripts.fetch_detail_raw",
        "peekOfCode": "url = \"https://palidict.com/node/4236\"\nprint(f\"Fetching {url}...\")\nresponse = requests.get(url)\nwith open(\"temp_detail.html\", \"w\", encoding=\"utf-8\") as f:\n    f.write(response.text)\nprint(\"Saved to temp_detail.html\")",
        "detail": "scripts.fetch_detail_raw",
        "documentation": {}
    },
    {
        "label": "response",
        "kind": 5,
        "importPath": "scripts.fetch_detail_raw",
        "description": "scripts.fetch_detail_raw",
        "peekOfCode": "response = requests.get(url)\nwith open(\"temp_detail.html\", \"w\", encoding=\"utf-8\") as f:\n    f.write(response.text)\nprint(\"Saved to temp_detail.html\")",
        "detail": "scripts.fetch_detail_raw",
        "documentation": {}
    },
    {
        "label": "inspect_db",
        "kind": 2,
        "importPath": "scripts.inspect_db",
        "description": "scripts.inspect_db",
        "peekOfCode": "def inspect_db():\n    if not os.path.exists(db_path):\n        print(f\"Error: Database file not found at {db_path}\")\n        print(\"Please copy 'palitothai_newgen' to 'd:\\\\pali-theonlyone\\\\data\\\\'\")\n        return\n    try:\n        conn = sqlite3.connect(db_path)\n        cursor = conn.cursor()\n        # Get all tables\n        cursor.execute(\"SELECT name FROM sqlite_master WHERE type='table';\")",
        "detail": "scripts.inspect_db",
        "documentation": {}
    },
    {
        "label": "db_path",
        "kind": 5,
        "importPath": "scripts.inspect_db",
        "description": "scripts.inspect_db",
        "peekOfCode": "db_path = r'd:\\pali-theonlyone\\data\\DB\\palitothai_newgen.db'\ndef inspect_db():\n    if not os.path.exists(db_path):\n        print(f\"Error: Database file not found at {db_path}\")\n        print(\"Please copy 'palitothai_newgen' to 'd:\\\\pali-theonlyone\\\\data\\\\'\")\n        return\n    try:\n        conn = sqlite3.connect(db_path)\n        cursor = conn.cursor()\n        # Get all tables",
        "detail": "scripts.inspect_db",
        "documentation": {}
    },
    {
        "label": "url",
        "kind": 5,
        "importPath": "scripts.inspect_roots_page",
        "description": "scripts.inspect_roots_page",
        "peekOfCode": "url = \"https://palidict.com/พจนานุกรมธาตุ\"\nprint(f\"Fetching {url}...\")\ntry:\n    response = requests.get(url, timeout=10)\n    response.raise_for_status()\n    print(\"Fetch successful.\")\nexcept Exception as e:\n    print(f\"Error fetching: {e}\")\n    exit(1)\nsoup = BeautifulSoup(response.content, 'html.parser')",
        "detail": "scripts.inspect_roots_page",
        "documentation": {}
    },
    {
        "label": "soup",
        "kind": 5,
        "importPath": "scripts.inspect_roots_page",
        "description": "scripts.inspect_roots_page",
        "peekOfCode": "soup = BeautifulSoup(response.content, 'html.parser')\n# Find the first few rows\nrows = soup.find_all('tr')\nprint(f\"Found {len(rows)} rows.\")\nfor i, row in enumerate(rows[:5]):\n    print(f\"--- Row {i} ---\")\n    cols = row.find_all('td')\n    for j, col in enumerate(cols):\n        print(f\"Col {j}: {col.get_text(strip=True)}\")\n        # Check for links",
        "detail": "scripts.inspect_roots_page",
        "documentation": {}
    },
    {
        "label": "rows",
        "kind": 5,
        "importPath": "scripts.inspect_roots_page",
        "description": "scripts.inspect_roots_page",
        "peekOfCode": "rows = soup.find_all('tr')\nprint(f\"Found {len(rows)} rows.\")\nfor i, row in enumerate(rows[:5]):\n    print(f\"--- Row {i} ---\")\n    cols = row.find_all('td')\n    for j, col in enumerate(cols):\n        print(f\"Col {j}: {col.get_text(strip=True)}\")\n        # Check for links\n        links = col.find_all('a')\n        for link in links:",
        "detail": "scripts.inspect_roots_page",
        "documentation": {}
    },
    {
        "label": "url",
        "kind": 5,
        "importPath": "scripts.inspect_root_detail",
        "description": "scripts.inspect_root_detail",
        "peekOfCode": "url = \"https://palidict.com/node/4236\"\nprint(f\"Fetching {url}...\")\nheaders = {\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n}\ntry:\n    response = requests.get(url, headers=headers, timeout=10)\n    print(f\"Status: {response.status_code}\")\n    response.raise_for_status()\n    with open(\"temp_detail.html\", \"w\", encoding=\"utf-8\") as f:",
        "detail": "scripts.inspect_root_detail",
        "documentation": {}
    },
    {
        "label": "headers",
        "kind": 5,
        "importPath": "scripts.inspect_root_detail",
        "description": "scripts.inspect_root_detail",
        "peekOfCode": "headers = {\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n}\ntry:\n    response = requests.get(url, headers=headers, timeout=10)\n    print(f\"Status: {response.status_code}\")\n    response.raise_for_status()\n    with open(\"temp_detail.html\", \"w\", encoding=\"utf-8\") as f:\n        f.write(response.text)\n    print(\"Saved HTML to temp_detail.html\")",
        "detail": "scripts.inspect_root_detail",
        "documentation": {}
    },
    {
        "label": "search_page_path",
        "kind": 5,
        "importPath": "scripts.refine_search_ui",
        "description": "scripts.refine_search_ui",
        "peekOfCode": "search_page_path = r\"D:\\pali-dhatu-app\\src\\pages\\SearchPage.js\"\nwith open(search_page_path, 'r', encoding='utf-8') as f:\n    content = f.read()\n# Fix the parens issue: Only show parens if arth_pali exists\nold_span = \"\"\"<span className=\"pali-meaning\">({dhatu.arth_pali})</span>\"\"\"\nnew_span = \"\"\"{dhatu.arth_pali ? <span className=\"pali-meaning\">({dhatu.arth_pali})</span> : null}\"\"\"\nif old_span in content:\n    content = content.replace(old_span, new_span)\n    print(\"Fixed empty parens issue.\")\n    with open(search_page_path, 'w', encoding='utf-8') as f:",
        "detail": "scripts.refine_search_ui",
        "documentation": {}
    },
    {
        "label": "old_span",
        "kind": 5,
        "importPath": "scripts.refine_search_ui",
        "description": "scripts.refine_search_ui",
        "peekOfCode": "old_span = \"\"\"<span className=\"pali-meaning\">({dhatu.arth_pali})</span>\"\"\"\nnew_span = \"\"\"{dhatu.arth_pali ? <span className=\"pali-meaning\">({dhatu.arth_pali})</span> : null}\"\"\"\nif old_span in content:\n    content = content.replace(old_span, new_span)\n    print(\"Fixed empty parens issue.\")\n    with open(search_page_path, 'w', encoding='utf-8') as f:\n        f.write(content)\nelse:\n    print(\"Pattern not found (maybe already fixed or different format).\")",
        "detail": "scripts.refine_search_ui",
        "documentation": {}
    },
    {
        "label": "new_span",
        "kind": 5,
        "importPath": "scripts.refine_search_ui",
        "description": "scripts.refine_search_ui",
        "peekOfCode": "new_span = \"\"\"{dhatu.arth_pali ? <span className=\"pali-meaning\">({dhatu.arth_pali})</span> : null}\"\"\"\nif old_span in content:\n    content = content.replace(old_span, new_span)\n    print(\"Fixed empty parens issue.\")\n    with open(search_page_path, 'w', encoding='utf-8') as f:\n        f.write(content)\nelse:\n    print(\"Pattern not found (maybe already fixed or different format).\")",
        "detail": "scripts.refine_search_ui",
        "documentation": {}
    },
    {
        "label": "load_data",
        "kind": 2,
        "importPath": "scripts.scrape_root_details",
        "description": "scripts.scrape_root_details",
        "peekOfCode": "def load_data():\n    if os.path.exists(OUTPUT_FILE):\n        try:\n            with open(OUTPUT_FILE, 'r', encoding='utf-8') as f:\n                return json.load(f)\n        except json.JSONDecodeError:\n            return {}\n    return {}\ndef save_data(data):\n    with open(OUTPUT_FILE, 'w', encoding='utf-8') as f:",
        "detail": "scripts.scrape_root_details",
        "documentation": {}
    },
    {
        "label": "save_data",
        "kind": 2,
        "importPath": "scripts.scrape_root_details",
        "description": "scripts.scrape_root_details",
        "peekOfCode": "def save_data(data):\n    with open(OUTPUT_FILE, 'w', encoding='utf-8') as f:\n        json.dump(data, f, ensure_ascii=False, indent=2)\ndef extract_text(soup, selector):\n    element = soup.select_one(selector)\n    if element:\n        # Get text, preserving newlines for readability if needed, but mostly we want clean text\n        return element.get_text(separator=' ', strip=True)\n    return \"\"\ndef scrape_details():",
        "detail": "scripts.scrape_root_details",
        "documentation": {}
    },
    {
        "label": "extract_text",
        "kind": 2,
        "importPath": "scripts.scrape_root_details",
        "description": "scripts.scrape_root_details",
        "peekOfCode": "def extract_text(soup, selector):\n    element = soup.select_one(selector)\n    if element:\n        # Get text, preserving newlines for readability if needed, but mostly we want clean text\n        return element.get_text(separator=' ', strip=True)\n    return \"\"\ndef scrape_details():\n    # Load links\n    with open(INPUT_FILE, 'r', encoding='utf-8') as f:\n        links = json.load(f)",
        "detail": "scripts.scrape_root_details",
        "documentation": {}
    },
    {
        "label": "scrape_details",
        "kind": 2,
        "importPath": "scripts.scrape_root_details",
        "description": "scripts.scrape_root_details",
        "peekOfCode": "def scrape_details():\n    # Load links\n    with open(INPUT_FILE, 'r', encoding='utf-8') as f:\n        links = json.load(f)\n    # Load existing progress\n    scraped_data = load_data()\n    print(f\"Total links to scrape: {len(links)}\")\n    print(f\"Already scraped: {len(scraped_data)}\")\n    count = 0\n    for item in links:",
        "detail": "scripts.scrape_root_details",
        "documentation": {}
    },
    {
        "label": "convert_to_vocab_format",
        "kind": 2,
        "importPath": "scripts.scrape_root_details",
        "description": "scripts.scrape_root_details",
        "peekOfCode": "def convert_to_vocab_format(raw_data):\n    print(\"Converting to vocab-roots structure...\")\n    vocab_roots = {}\n    for url, entry in raw_data.items():\n        root = entry['root']\n        # Remove URL from final object if not needed, or keep it. User didn't ask for URL but useful for ref.\n        # Clean entry for final output\n        clean_entry = {k: v for k, v in entry.items() if k != 'url'}\n        if root not in vocab_roots:\n            vocab_roots[root] = []",
        "detail": "scripts.scrape_root_details",
        "documentation": {}
    },
    {
        "label": "INPUT_FILE",
        "kind": 5,
        "importPath": "scripts.scrape_root_details",
        "description": "scripts.scrape_root_details",
        "peekOfCode": "INPUT_FILE = 'data/root_links.json'\nOUTPUT_FILE = 'data/scraped_roots_raw.json'\nHEADERS = {\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n}\nSAVE_INTERVAL = 5\nLIMIT = None\ndef load_data():\n    if os.path.exists(OUTPUT_FILE):\n        try:",
        "detail": "scripts.scrape_root_details",
        "documentation": {}
    },
    {
        "label": "OUTPUT_FILE",
        "kind": 5,
        "importPath": "scripts.scrape_root_details",
        "description": "scripts.scrape_root_details",
        "peekOfCode": "OUTPUT_FILE = 'data/scraped_roots_raw.json'\nHEADERS = {\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n}\nSAVE_INTERVAL = 5\nLIMIT = None\ndef load_data():\n    if os.path.exists(OUTPUT_FILE):\n        try:\n            with open(OUTPUT_FILE, 'r', encoding='utf-8') as f:",
        "detail": "scripts.scrape_root_details",
        "documentation": {}
    },
    {
        "label": "HEADERS",
        "kind": 5,
        "importPath": "scripts.scrape_root_details",
        "description": "scripts.scrape_root_details",
        "peekOfCode": "HEADERS = {\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n}\nSAVE_INTERVAL = 5\nLIMIT = None\ndef load_data():\n    if os.path.exists(OUTPUT_FILE):\n        try:\n            with open(OUTPUT_FILE, 'r', encoding='utf-8') as f:\n                return json.load(f)",
        "detail": "scripts.scrape_root_details",
        "documentation": {}
    },
    {
        "label": "SAVE_INTERVAL",
        "kind": 5,
        "importPath": "scripts.scrape_root_details",
        "description": "scripts.scrape_root_details",
        "peekOfCode": "SAVE_INTERVAL = 5\nLIMIT = None\ndef load_data():\n    if os.path.exists(OUTPUT_FILE):\n        try:\n            with open(OUTPUT_FILE, 'r', encoding='utf-8') as f:\n                return json.load(f)\n        except json.JSONDecodeError:\n            return {}\n    return {}",
        "detail": "scripts.scrape_root_details",
        "documentation": {}
    },
    {
        "label": "LIMIT",
        "kind": 5,
        "importPath": "scripts.scrape_root_details",
        "description": "scripts.scrape_root_details",
        "peekOfCode": "LIMIT = None\ndef load_data():\n    if os.path.exists(OUTPUT_FILE):\n        try:\n            with open(OUTPUT_FILE, 'r', encoding='utf-8') as f:\n                return json.load(f)\n        except json.JSONDecodeError:\n            return {}\n    return {}\ndef save_data(data):",
        "detail": "scripts.scrape_root_details",
        "documentation": {}
    },
    {
        "label": "base_url",
        "kind": 5,
        "importPath": "scripts.scrape_root_links",
        "description": "scripts.scrape_root_links",
        "peekOfCode": "base_url = \"https://palidict.com/พจนานุกรมธาตุ\"\nlinks_data = []\n# Assuming max 100 pages based on previous experience (2500 items / 25 per page = 100 pages)\n# I'll check for \"next\" button to stop.\nprint(\"Scraping root links...\")\nfor page in range(101): # 0 to 100\n    url = f\"{base_url}?page={page}\"\n    print(f\"Fetching page {page}...\")\n    try:\n        response = requests.get(url, timeout=10)",
        "detail": "scripts.scrape_root_links",
        "documentation": {}
    },
    {
        "label": "links_data",
        "kind": 5,
        "importPath": "scripts.scrape_root_links",
        "description": "scripts.scrape_root_links",
        "peekOfCode": "links_data = []\n# Assuming max 100 pages based on previous experience (2500 items / 25 per page = 100 pages)\n# I'll check for \"next\" button to stop.\nprint(\"Scraping root links...\")\nfor page in range(101): # 0 to 100\n    url = f\"{base_url}?page={page}\"\n    print(f\"Fetching page {page}...\")\n    try:\n        response = requests.get(url, timeout=10)\n        if response.status_code != 200:",
        "detail": "scripts.scrape_root_links",
        "documentation": {}
    },
    {
        "label": "base_url",
        "kind": 5,
        "importPath": "scripts.scrape_root_links_robust",
        "description": "scripts.scrape_root_links_robust",
        "peekOfCode": "base_url = \"https://palidict.com/พจนานุกรมธาตุ\"\nlinks_data = []\noutput_file = \"data/root_links.json\"\n# Load existing if any\ntry:\n    with open(output_file, \"r\", encoding=\"utf-8\") as f:\n        links_data = json.load(f)\n    print(f\"Loaded {len(links_data)} existing links.\")\nexcept:\n    pass",
        "detail": "scripts.scrape_root_links_robust",
        "documentation": {}
    },
    {
        "label": "links_data",
        "kind": 5,
        "importPath": "scripts.scrape_root_links_robust",
        "description": "scripts.scrape_root_links_robust",
        "peekOfCode": "links_data = []\noutput_file = \"data/root_links.json\"\n# Load existing if any\ntry:\n    with open(output_file, \"r\", encoding=\"utf-8\") as f:\n        links_data = json.load(f)\n    print(f\"Loaded {len(links_data)} existing links.\")\nexcept:\n    pass\nstart_page = len(links_data) // 25",
        "detail": "scripts.scrape_root_links_robust",
        "documentation": {}
    },
    {
        "label": "output_file",
        "kind": 5,
        "importPath": "scripts.scrape_root_links_robust",
        "description": "scripts.scrape_root_links_robust",
        "peekOfCode": "output_file = \"data/root_links.json\"\n# Load existing if any\ntry:\n    with open(output_file, \"r\", encoding=\"utf-8\") as f:\n        links_data = json.load(f)\n    print(f\"Loaded {len(links_data)} existing links.\")\nexcept:\n    pass\nstart_page = len(links_data) // 25\nprint(f\"Starting from page {start_page}...\")",
        "detail": "scripts.scrape_root_links_robust",
        "documentation": {}
    },
    {
        "label": "start_page",
        "kind": 5,
        "importPath": "scripts.scrape_root_links_robust",
        "description": "scripts.scrape_root_links_robust",
        "peekOfCode": "start_page = len(links_data) // 25\nprint(f\"Starting from page {start_page}...\")\nfor page in range(start_page, 155): # Max pages around 155 for 3800 items\n    url = f\"{base_url}?page={page}\"\n    print(f\"Fetching page {page}...\")\n    success = False\n    for attempt in range(3):\n        try:\n            response = requests.get(url, timeout=20)\n            if response.status_code == 200:",
        "detail": "scripts.scrape_root_links_robust",
        "documentation": {}
    },
    {
        "label": "APP_CSS_PATH",
        "kind": 5,
        "importPath": "scripts.update_app_css",
        "description": "scripts.update_app_css",
        "peekOfCode": "APP_CSS_PATH = r\"D:\\pali-dhatu-app\\src\\App.css\"\ncontent = \"\"\"\n/* ===== LIGHT THEME: \"Modern Classroom\" ===== */\n:root {\n  --primary-color: #3498db;      /* Blue header */\n  --primary-dark: #2980b9;\n  --accent-color: #e67e22;       /* Orange accents */\n  --bg-color: #f8f9fa;           /* Light gray background */\n  --card-bg: #ffffff;\n  --text-primary: #2c3e50;       /* Dark gray text */",
        "detail": "scripts.update_app_css",
        "documentation": {}
    },
    {
        "label": "content",
        "kind": 5,
        "importPath": "scripts.update_app_css",
        "description": "scripts.update_app_css",
        "peekOfCode": "content = \"\"\"\n/* ===== LIGHT THEME: \"Modern Classroom\" ===== */\n:root {\n  --primary-color: #3498db;      /* Blue header */\n  --primary-dark: #2980b9;\n  --accent-color: #e67e22;       /* Orange accents */\n  --bg-color: #f8f9fa;           /* Light gray background */\n  --card-bg: #ffffff;\n  --text-primary: #2c3e50;       /* Dark gray text */\n  --text-secondary: #7f8c8d;",
        "detail": "scripts.update_app_css",
        "documentation": {}
    },
    {
        "label": "APP_JS_PATH",
        "kind": 5,
        "importPath": "scripts.update_app_js",
        "description": "scripts.update_app_js",
        "peekOfCode": "APP_JS_PATH = r\"D:\\pali-dhatu-app\\src\\App.js\"\ncontent = \"\"\"\n// src/App.js\nimport './App.css';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Login from './components/Login';\nimport DhatuDetail from './components/DhatuDetail';\nimport SearchPage from './pages/SearchPage';\nimport { AuthProvider } from './contexts/AuthContext';",
        "detail": "scripts.update_app_js",
        "documentation": {}
    },
    {
        "label": "content",
        "kind": 5,
        "importPath": "scripts.update_app_js",
        "description": "scripts.update_app_js",
        "peekOfCode": "content = \"\"\"\n// src/App.js\nimport './App.css';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Login from './components/Login';\nimport DhatuDetail from './components/DhatuDetail';\nimport SearchPage from './pages/SearchPage';\nimport { AuthProvider } from './contexts/AuthContext';\nimport { ToastContainer } from 'react-toastify';",
        "detail": "scripts.update_app_js",
        "documentation": {}
    },
    {
        "label": "APP_JS_PATH",
        "kind": 5,
        "importPath": "scripts.update_app_js_routes",
        "description": "scripts.update_app_js_routes",
        "peekOfCode": "APP_JS_PATH = r\"D:\\pali-dhatu-app\\src\\App.js\"\ncontent = \"\"\"\n// src/App.js\nimport './App.css';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Login from './components/Login';\nimport DhatuDetail from './components/DhatuDetail';\nimport SearchPage from './pages/SearchPage';\nimport KathaListPage from './pages/KathaListPage'; // Changed from HomePage",
        "detail": "scripts.update_app_js_routes",
        "documentation": {}
    },
    {
        "label": "content",
        "kind": 5,
        "importPath": "scripts.update_app_js_routes",
        "description": "scripts.update_app_js_routes",
        "peekOfCode": "content = \"\"\"\n// src/App.js\nimport './App.css';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Login from './components/Login';\nimport DhatuDetail from './components/DhatuDetail';\nimport SearchPage from './pages/SearchPage';\nimport KathaListPage from './pages/KathaListPage'; // Changed from HomePage\nimport { AuthProvider } from './contexts/AuthContext';",
        "detail": "scripts.update_app_js_routes",
        "documentation": {}
    },
    {
        "label": "create_icon",
        "kind": 2,
        "importPath": "scripts.update_branding",
        "description": "scripts.update_branding",
        "peekOfCode": "def create_icon(size):\n    # Create image with transparent background\n    img = Image.new('RGBA', (size, size), (0, 0, 0, 0))\n    draw = ImageDraw.Draw(img)\n    # Draw rounded rectangle (simulated gradient)\n    # Since complex gradients are hard, we'll use a solid fill with the primary color\n    # or we can try a simple vertical gradient manually, but solid is safer and cleaner.\n    # Rounded corners\n    radius = size // 5\n    draw.rounded_rectangle([(0, 0), (size, size)], radius=radius, fill=LOGO_COLOR)",
        "detail": "scripts.update_branding",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "scripts.update_branding",
        "description": "scripts.update_branding",
        "peekOfCode": "def main():\n    print(\"Generating icons...\")\n    # 1. Generate logo512.png\n    icon512 = create_icon(512)\n    icon512.save(os.path.join(PUBLIC_DIR, \"logo512.png\"))\n    print(\"Saved logo512.png\")\n    # 2. Generate logo192.png\n    icon192 = icon512.resize((192, 192), Image.Resampling.LANCZOS)\n    icon192.save(os.path.join(PUBLIC_DIR, \"logo192.png\"))\n    print(\"Saved logo192.png\")",
        "detail": "scripts.update_branding",
        "documentation": {}
    },
    {
        "label": "APP_DIR",
        "kind": 5,
        "importPath": "scripts.update_branding",
        "description": "scripts.update_branding",
        "peekOfCode": "APP_DIR = r\"D:\\pali-dhatu-app\"\nPUBLIC_DIR = os.path.join(APP_DIR, \"public\")\nLOGO_COLOR = (39, 174, 96) # #27ae60\nLOGO_COLOR_2 = (46, 204, 113) # #2ecc71\nTEXT_COLOR = (255, 255, 255)\ndef create_icon(size):\n    # Create image with transparent background\n    img = Image.new('RGBA', (size, size), (0, 0, 0, 0))\n    draw = ImageDraw.Draw(img)\n    # Draw rounded rectangle (simulated gradient)",
        "detail": "scripts.update_branding",
        "documentation": {}
    },
    {
        "label": "PUBLIC_DIR",
        "kind": 5,
        "importPath": "scripts.update_branding",
        "description": "scripts.update_branding",
        "peekOfCode": "PUBLIC_DIR = os.path.join(APP_DIR, \"public\")\nLOGO_COLOR = (39, 174, 96) # #27ae60\nLOGO_COLOR_2 = (46, 204, 113) # #2ecc71\nTEXT_COLOR = (255, 255, 255)\ndef create_icon(size):\n    # Create image with transparent background\n    img = Image.new('RGBA', (size, size), (0, 0, 0, 0))\n    draw = ImageDraw.Draw(img)\n    # Draw rounded rectangle (simulated gradient)\n    # Since complex gradients are hard, we'll use a solid fill with the primary color",
        "detail": "scripts.update_branding",
        "documentation": {}
    },
    {
        "label": "LOGO_COLOR",
        "kind": 5,
        "importPath": "scripts.update_branding",
        "description": "scripts.update_branding",
        "peekOfCode": "LOGO_COLOR = (39, 174, 96) # #27ae60\nLOGO_COLOR_2 = (46, 204, 113) # #2ecc71\nTEXT_COLOR = (255, 255, 255)\ndef create_icon(size):\n    # Create image with transparent background\n    img = Image.new('RGBA', (size, size), (0, 0, 0, 0))\n    draw = ImageDraw.Draw(img)\n    # Draw rounded rectangle (simulated gradient)\n    # Since complex gradients are hard, we'll use a solid fill with the primary color\n    # or we can try a simple vertical gradient manually, but solid is safer and cleaner.",
        "detail": "scripts.update_branding",
        "documentation": {}
    },
    {
        "label": "LOGO_COLOR_2",
        "kind": 5,
        "importPath": "scripts.update_branding",
        "description": "scripts.update_branding",
        "peekOfCode": "LOGO_COLOR_2 = (46, 204, 113) # #2ecc71\nTEXT_COLOR = (255, 255, 255)\ndef create_icon(size):\n    # Create image with transparent background\n    img = Image.new('RGBA', (size, size), (0, 0, 0, 0))\n    draw = ImageDraw.Draw(img)\n    # Draw rounded rectangle (simulated gradient)\n    # Since complex gradients are hard, we'll use a solid fill with the primary color\n    # or we can try a simple vertical gradient manually, but solid is safer and cleaner.\n    # Rounded corners",
        "detail": "scripts.update_branding",
        "documentation": {}
    },
    {
        "label": "TEXT_COLOR",
        "kind": 5,
        "importPath": "scripts.update_branding",
        "description": "scripts.update_branding",
        "peekOfCode": "TEXT_COLOR = (255, 255, 255)\ndef create_icon(size):\n    # Create image with transparent background\n    img = Image.new('RGBA', (size, size), (0, 0, 0, 0))\n    draw = ImageDraw.Draw(img)\n    # Draw rounded rectangle (simulated gradient)\n    # Since complex gradients are hard, we'll use a solid fill with the primary color\n    # or we can try a simple vertical gradient manually, but solid is safer and cleaner.\n    # Rounded corners\n    radius = size // 5",
        "detail": "scripts.update_branding",
        "documentation": {}
    },
    {
        "label": "app_dir",
        "kind": 5,
        "importPath": "scripts.update_dhatu_app",
        "description": "scripts.update_dhatu_app",
        "peekOfCode": "app_dir = r\"D:\\pali-dhatu-app\"\nsrc_dir = os.path.join(app_dir, \"src\")\ncomponents_dir = os.path.join(src_dir, \"components\")\npages_dir = os.path.join(src_dir, \"pages\")\n# 1. Update DhatuDetail.js\ndhatu_detail_path = os.path.join(components_dir, \"DhatuDetail.js\")\ndhatu_detail_content = \"\"\"import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';",
        "detail": "scripts.update_dhatu_app",
        "documentation": {}
    },
    {
        "label": "src_dir",
        "kind": 5,
        "importPath": "scripts.update_dhatu_app",
        "description": "scripts.update_dhatu_app",
        "peekOfCode": "src_dir = os.path.join(app_dir, \"src\")\ncomponents_dir = os.path.join(src_dir, \"components\")\npages_dir = os.path.join(src_dir, \"pages\")\n# 1. Update DhatuDetail.js\ndhatu_detail_path = os.path.join(components_dir, \"DhatuDetail.js\")\ndhatu_detail_content = \"\"\"import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport LoadingSpinner from '../components/LoadingSpinner';",
        "detail": "scripts.update_dhatu_app",
        "documentation": {}
    },
    {
        "label": "components_dir",
        "kind": 5,
        "importPath": "scripts.update_dhatu_app",
        "description": "scripts.update_dhatu_app",
        "peekOfCode": "components_dir = os.path.join(src_dir, \"components\")\npages_dir = os.path.join(src_dir, \"pages\")\n# 1. Update DhatuDetail.js\ndhatu_detail_path = os.path.join(components_dir, \"DhatuDetail.js\")\ndhatu_detail_content = \"\"\"import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction DhatuDetail() {",
        "detail": "scripts.update_dhatu_app",
        "documentation": {}
    },
    {
        "label": "pages_dir",
        "kind": 5,
        "importPath": "scripts.update_dhatu_app",
        "description": "scripts.update_dhatu_app",
        "peekOfCode": "pages_dir = os.path.join(src_dir, \"pages\")\n# 1. Update DhatuDetail.js\ndhatu_detail_path = os.path.join(components_dir, \"DhatuDetail.js\")\ndhatu_detail_content = \"\"\"import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction DhatuDetail() {\n  const { id } = useParams();",
        "detail": "scripts.update_dhatu_app",
        "documentation": {}
    },
    {
        "label": "dhatu_detail_path",
        "kind": 5,
        "importPath": "scripts.update_dhatu_app",
        "description": "scripts.update_dhatu_app",
        "peekOfCode": "dhatu_detail_path = os.path.join(components_dir, \"DhatuDetail.js\")\ndhatu_detail_content = \"\"\"import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction DhatuDetail() {\n  const { id } = useParams();\n  const [dhatu, setDhatu] = useState(null);\n  const [loading, setLoading] = useState(true);",
        "detail": "scripts.update_dhatu_app",
        "documentation": {}
    },
    {
        "label": "dhatu_detail_content",
        "kind": 5,
        "importPath": "scripts.update_dhatu_app",
        "description": "scripts.update_dhatu_app",
        "peekOfCode": "dhatu_detail_content = \"\"\"import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction DhatuDetail() {\n  const { id } = useParams();\n  const [dhatu, setDhatu] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');",
        "detail": "scripts.update_dhatu_app",
        "documentation": {}
    },
    {
        "label": "principles_page_path",
        "kind": 5,
        "importPath": "scripts.update_dhatu_app",
        "description": "scripts.update_dhatu_app",
        "peekOfCode": "principles_page_path = os.path.join(pages_dir, \"PrinciplesPage.js\")\nprinciples_page_content = \"\"\"import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { doc, getDoc, collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction PrinciplesPage() {\n    const { groupCode } = useParams();\n    const [content, setContent] = useState(null);\n    const [list, setList] = useState([]);",
        "detail": "scripts.update_dhatu_app",
        "documentation": {}
    },
    {
        "label": "principles_page_content",
        "kind": 5,
        "importPath": "scripts.update_dhatu_app",
        "description": "scripts.update_dhatu_app",
        "peekOfCode": "principles_page_content = \"\"\"import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { doc, getDoc, collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction PrinciplesPage() {\n    const { groupCode } = useParams();\n    const [content, setContent] = useState(null);\n    const [list, setList] = useState([]);\n    const [loading, setLoading] = useState(true);",
        "detail": "scripts.update_dhatu_app",
        "documentation": {}
    },
    {
        "label": "app_js_path",
        "kind": 5,
        "importPath": "scripts.update_dhatu_app",
        "description": "scripts.update_dhatu_app",
        "peekOfCode": "app_js_path = os.path.join(src_dir, \"App.js\")\nwith open(app_js_path, \"r\", encoding=\"utf-8\") as f:\n    app_js_content = f.read()\n# Add the new route if not exists\nnew_route = '<Route path=\"/principles/:groupCode\" element={<PrinciplesPage />} />'\nif new_route not in app_js_content:\n    old_route = '<Route path=\"/principles\" element={<PrinciplesPage />} />'\n    if old_route in app_js_content:\n        app_js_content = app_js_content.replace(old_route, old_route + '\\n            ' + new_route)\n        with open(app_js_path, \"w\", encoding=\"utf-8\") as f:",
        "detail": "scripts.update_dhatu_app",
        "documentation": {}
    },
    {
        "label": "new_route",
        "kind": 5,
        "importPath": "scripts.update_dhatu_app",
        "description": "scripts.update_dhatu_app",
        "peekOfCode": "new_route = '<Route path=\"/principles/:groupCode\" element={<PrinciplesPage />} />'\nif new_route not in app_js_content:\n    old_route = '<Route path=\"/principles\" element={<PrinciplesPage />} />'\n    if old_route in app_js_content:\n        app_js_content = app_js_content.replace(old_route, old_route + '\\n            ' + new_route)\n        with open(app_js_path, \"w\", encoding=\"utf-8\") as f:\n            f.write(app_js_content)\n        print(f\"Updated {app_js_path}\")\n    else:\n        print(\"Could not find anchor to patch App.js\")",
        "detail": "scripts.update_dhatu_app",
        "documentation": {}
    },
    {
        "label": "DHATU_DETAIL_PATH",
        "kind": 5,
        "importPath": "scripts.update_dhatu_detail",
        "description": "scripts.update_dhatu_detail",
        "peekOfCode": "DHATU_DETAIL_PATH = r\"D:\\pali-dhatu-app\\src\\components\\DhatuDetail.js\"\ncontent = \"\"\"\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction DhatuDetail() {\n  const { id } = useParams();\n  const [dhatu, setDhatu] = useState(null);",
        "detail": "scripts.update_dhatu_detail",
        "documentation": {}
    },
    {
        "label": "content",
        "kind": 5,
        "importPath": "scripts.update_dhatu_detail",
        "description": "scripts.update_dhatu_detail",
        "peekOfCode": "content = \"\"\"\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction DhatuDetail() {\n  const { id } = useParams();\n  const [dhatu, setDhatu] = useState(null);\n  const [loading, setLoading] = useState(true);",
        "detail": "scripts.update_dhatu_detail",
        "documentation": {}
    },
    {
        "label": "HEADER_JS_PATH",
        "kind": 5,
        "importPath": "scripts.update_header",
        "description": "scripts.update_header",
        "peekOfCode": "HEADER_JS_PATH = r\"D:\\pali-dhatu-app\\src\\components\\Header.js\"\ncontent = \"\"\"\n// src/components/Header.js\nimport React from 'react';\nimport { Link, NavLink, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { signOut } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nfunction Header() {\n  const { currentUser } = useAuth();",
        "detail": "scripts.update_header",
        "documentation": {}
    },
    {
        "label": "content",
        "kind": 5,
        "importPath": "scripts.update_header",
        "description": "scripts.update_header",
        "peekOfCode": "content = \"\"\"\n// src/components/Header.js\nimport React from 'react';\nimport { Link, NavLink, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { signOut } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nfunction Header() {\n  const { currentUser } = useAuth();\n  const navigate = useNavigate();",
        "detail": "scripts.update_header",
        "documentation": {}
    },
    {
        "label": "header_path",
        "kind": 5,
        "importPath": "scripts.update_header_and_app",
        "description": "scripts.update_header_and_app",
        "peekOfCode": "header_path = r\"D:\\pali-dhatu-app\\src\\components\\Header.js\"\napp_path = r\"D:\\pali-dhatu-app\\src\\App.js\"\n# 1. Update Header.js\ntry:\n    with open(header_path, 'r', encoding='utf-8') as f:\n        content = f.read()\n    # Target block to remove\n    target = \"\"\"          <li><NavLink to=\"/flashcards\" style={{color: \"#f39c12\"}}>ทบทวนธาตุ</NavLink></li>\n          <li className=\"nav-separator\">|</li>\n          <li><NavLink to=\"/submit\">เสนอแนะข้อมูล</NavLink></li>",
        "detail": "scripts.update_header_and_app",
        "documentation": {}
    },
    {
        "label": "app_path",
        "kind": 5,
        "importPath": "scripts.update_header_and_app",
        "description": "scripts.update_header_and_app",
        "peekOfCode": "app_path = r\"D:\\pali-dhatu-app\\src\\App.js\"\n# 1. Update Header.js\ntry:\n    with open(header_path, 'r', encoding='utf-8') as f:\n        content = f.read()\n    # Target block to remove\n    target = \"\"\"          <li><NavLink to=\"/flashcards\" style={{color: \"#f39c12\"}}>ทบทวนธาตุ</NavLink></li>\n          <li className=\"nav-separator\">|</li>\n          <li><NavLink to=\"/submit\">เสนอแนะข้อมูล</NavLink></li>\n          <li><NavLink to=\"/about\">เกี่ยวกับ</NavLink></li>",
        "detail": "scripts.update_header_and_app",
        "documentation": {}
    },
    {
        "label": "KATHA_LIST_PATH",
        "kind": 5,
        "importPath": "scripts.update_katha_list",
        "description": "scripts.update_katha_list",
        "peekOfCode": "KATHA_LIST_PATH = r\"D:\\pali-dhatu-app\\src\\pages\\KathaListPage.js\"\ncontent = \"\"\"\nimport React, { useState, useEffect } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport KathaRenderer from '../components/KathaRenderer';\nfunction KathaListPage() {\n    const [kathas, setKathas] = useState([]);",
        "detail": "scripts.update_katha_list",
        "documentation": {}
    },
    {
        "label": "content",
        "kind": 5,
        "importPath": "scripts.update_katha_list",
        "description": "scripts.update_katha_list",
        "peekOfCode": "content = \"\"\"\nimport React, { useState, useEffect } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport KathaRenderer from '../components/KathaRenderer';\nfunction KathaListPage() {\n    const [kathas, setKathas] = useState([]);\n    const [loading, setLoading] = useState(true);",
        "detail": "scripts.update_katha_list",
        "documentation": {}
    },
    {
        "label": "SEARCH_PAGE_PATH",
        "kind": 5,
        "importPath": "scripts.update_search_page",
        "description": "scripts.update_search_page",
        "peekOfCode": "SEARCH_PAGE_PATH = r\"D:\\pali-dhatu-app\\src\\pages\\SearchPage.js\"\ncontent = \"\"\"\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction SearchPage() {\n    const [allDhatus, setAllDhatus] = useState([]);\n    const [loading, setLoading] = useState(true);",
        "detail": "scripts.update_search_page",
        "documentation": {}
    },
    {
        "label": "content",
        "kind": 5,
        "importPath": "scripts.update_search_page",
        "description": "scripts.update_search_page",
        "peekOfCode": "content = \"\"\"\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nfunction SearchPage() {\n    const [allDhatus, setAllDhatus] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [searchText, setSearchText] = useState('');",
        "detail": "scripts.update_search_page",
        "documentation": {}
    },
    {
        "label": "search_page_path",
        "kind": 5,
        "importPath": "scripts.update_search_ui",
        "description": "scripts.update_search_ui",
        "peekOfCode": "search_page_path = r\"D:\\pali-dhatu-app\\src\\pages\\SearchPage.js\"\napp_css_path = r\"D:\\pali-dhatu-app\\src\\App.css\"\n# 1. Update SearchPage.js\nwith open(search_page_path, 'r', encoding='utf-8') as f:\n    search_content = f.read()\n# Update fetchData to include arth_pali\nold_fetch = \"\"\"                const data = snapshot.docs.map(doc => ({\n                    id: doc.id,\n                    dhatu_word: doc.data().dhatu_word,\n                    arth_thai: doc.data().arth_thai,",
        "detail": "scripts.update_search_ui",
        "documentation": {}
    },
    {
        "label": "app_css_path",
        "kind": 5,
        "importPath": "scripts.update_search_ui",
        "description": "scripts.update_search_ui",
        "peekOfCode": "app_css_path = r\"D:\\pali-dhatu-app\\src\\App.css\"\n# 1. Update SearchPage.js\nwith open(search_page_path, 'r', encoding='utf-8') as f:\n    search_content = f.read()\n# Update fetchData to include arth_pali\nold_fetch = \"\"\"                const data = snapshot.docs.map(doc => ({\n                    id: doc.id,\n                    dhatu_word: doc.data().dhatu_word,\n                    arth_thai: doc.data().arth_thai,\n                    mawat_dhatu: doc.data().mawat_dhatu,",
        "detail": "scripts.update_search_ui",
        "documentation": {}
    },
    {
        "label": "old_fetch",
        "kind": 5,
        "importPath": "scripts.update_search_ui",
        "description": "scripts.update_search_ui",
        "peekOfCode": "old_fetch = \"\"\"                const data = snapshot.docs.map(doc => ({\n                    id: doc.id,\n                    dhatu_word: doc.data().dhatu_word,\n                    arth_thai: doc.data().arth_thai,\n                    mawat_dhatu: doc.data().mawat_dhatu,\n                    anukrom_dhatu: doc.data().anukrom_dhatu\n                }));\"\"\"\nnew_fetch = \"\"\"                const data = snapshot.docs.map(doc => ({\n                    id: doc.id,\n                    dhatu_word: doc.data().dhatu_word,",
        "detail": "scripts.update_search_ui",
        "documentation": {}
    },
    {
        "label": "new_fetch",
        "kind": 5,
        "importPath": "scripts.update_search_ui",
        "description": "scripts.update_search_ui",
        "peekOfCode": "new_fetch = \"\"\"                const data = snapshot.docs.map(doc => ({\n                    id: doc.id,\n                    dhatu_word: doc.data().dhatu_word,\n                    arth_thai: doc.data().arth_thai,\n                    arth_pali: doc.data().arth_pali,\n                    mawat_dhatu: doc.data().mawat_dhatu,\n                    anukrom_dhatu: doc.data().anukrom_dhatu\n                }));\"\"\"\nif old_fetch in search_content:\n    search_content = search_content.replace(old_fetch, new_fetch)",
        "detail": "scripts.update_search_ui",
        "documentation": {}
    },
    {
        "label": "old_filter",
        "kind": 5,
        "importPath": "scripts.update_search_ui",
        "description": "scripts.update_search_ui",
        "peekOfCode": "old_filter = \"\"\"                                (d.arth_thai && d.arth_thai.toLowerCase().includes(searchLower));\"\"\"\nnew_filter = \"\"\"                                (d.arth_thai && d.arth_thai.toLowerCase().includes(searchLower)) ||\n                                (d.arth_pali && d.arth_pali.toLowerCase().includes(searchLower));\"\"\"\nif old_filter in search_content:\n    search_content = search_content.replace(old_filter, new_filter)\n# Update JSX Render\nold_jsx = \"\"\"            <div className=\"results-grid\">\n                {displayedData.map(dhatu => (\n                    <Link to={`/dhatu/${dhatu.id}`} key={dhatu.id} className=\"dhatu-card-mini\">\n                        <div className=\"card-top\">",
        "detail": "scripts.update_search_ui",
        "documentation": {}
    },
    {
        "label": "new_filter",
        "kind": 5,
        "importPath": "scripts.update_search_ui",
        "description": "scripts.update_search_ui",
        "peekOfCode": "new_filter = \"\"\"                                (d.arth_thai && d.arth_thai.toLowerCase().includes(searchLower)) ||\n                                (d.arth_pali && d.arth_pali.toLowerCase().includes(searchLower));\"\"\"\nif old_filter in search_content:\n    search_content = search_content.replace(old_filter, new_filter)\n# Update JSX Render\nold_jsx = \"\"\"            <div className=\"results-grid\">\n                {displayedData.map(dhatu => (\n                    <Link to={`/dhatu/${dhatu.id}`} key={dhatu.id} className=\"dhatu-card-mini\">\n                        <div className=\"card-top\">\n                            <span className=\"id-badge\">#{dhatu.anukrom_dhatu}</span>",
        "detail": "scripts.update_search_ui",
        "documentation": {}
    },
    {
        "label": "old_jsx",
        "kind": 5,
        "importPath": "scripts.update_search_ui",
        "description": "scripts.update_search_ui",
        "peekOfCode": "old_jsx = \"\"\"            <div className=\"results-grid\">\n                {displayedData.map(dhatu => (\n                    <Link to={`/dhatu/${dhatu.id}`} key={dhatu.id} className=\"dhatu-card-mini\">\n                        <div className=\"card-top\">\n                            <span className=\"id-badge\">#{dhatu.anukrom_dhatu}</span>\n                            <span className=\"group-badge\">{dhatu.mawat_dhatu}</span>\n                        </div>\n                        <h3>{dhatu.dhatu_word}</h3>\n                        <p>{dhatu.arth_thai}</p>\n                    </Link>",
        "detail": "scripts.update_search_ui",
        "documentation": {}
    },
    {
        "label": "new_jsx",
        "kind": 5,
        "importPath": "scripts.update_search_ui",
        "description": "scripts.update_search_ui",
        "peekOfCode": "new_jsx = \"\"\"            <div className=\"results-grid\">\n                {displayedData.map(dhatu => (\n                    <Link to={`/dhatu/${dhatu.id}`} key={dhatu.id} className=\"dhatu-card-mini\">\n                        <div className=\"card-top\">\n                            <span className=\"dhatu-name\">{dhatu.dhatu_word}</span>\n                            <span className=\"group-badge\">{dhatu.mawat_dhatu}</span>\n                        </div>\n                        <div className=\"dhatu-meaning-container\">\n                            <span className=\"pali-meaning\">({dhatu.arth_pali})</span>\n                            <span className=\"thai-meaning\"> {dhatu.arth_thai}</span>",
        "detail": "scripts.update_search_ui",
        "documentation": {}
    },
    {
        "label": "new_styles",
        "kind": 5,
        "importPath": "scripts.update_search_ui",
        "description": "scripts.update_search_ui",
        "peekOfCode": "new_styles = \"\"\"\n/* Updated Search Result Styles */\n.dhatu-name {\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: var(--primary-color);\n}\n.dhatu-meaning-container {\n  margin-top: 0.5rem;\n  font-size: 1rem;",
        "detail": "scripts.update_search_ui",
        "documentation": {}
    },
    {
        "label": "CSS_PATH",
        "kind": 5,
        "importPath": "scripts.update_styles",
        "description": "scripts.update_styles",
        "peekOfCode": "CSS_PATH = r\"D:\\pali-dhatu-app\\src\\App.css\"\nnew_styles = \"\"\"\n/* --- Grammar Principles Styles (Ported from Learning Web) --- */\n.content-box { font-size: 1.15rem; color: #444; text-align: justify; line-height: 1.8; }\n.content-box p { margin-bottom: 1.5em; }\n.example-list { list-style: none; padding: 0; }\n.example-list li { \n    background: #f9fbfd; \n    margin-bottom: 10px; \n    padding: 15px; ",
        "detail": "scripts.update_styles",
        "documentation": {}
    },
    {
        "label": "new_styles",
        "kind": 5,
        "importPath": "scripts.update_styles",
        "description": "scripts.update_styles",
        "peekOfCode": "new_styles = \"\"\"\n/* --- Grammar Principles Styles (Ported from Learning Web) --- */\n.content-box { font-size: 1.15rem; color: #444; text-align: justify; line-height: 1.8; }\n.content-box p { margin-bottom: 1.5em; }\n.example-list { list-style: none; padding: 0; }\n.example-list li { \n    background: #f9fbfd; \n    margin-bottom: 10px; \n    padding: 15px; \n    border-radius: 8px; ",
        "detail": "scripts.update_styles",
        "documentation": {}
    },
    {
        "label": "APP_CSS_PATH",
        "kind": 5,
        "importPath": "scripts.update_ui_modern",
        "description": "scripts.update_ui_modern",
        "peekOfCode": "APP_CSS_PATH = r\"D:\\pali-dhatu-app\\src\\App.css\"\nDHATU_DETAIL_PATH = r\"D:\\pali-dhatu-app\\src\\components\\DhatuDetail.js\"\nVERSE_DETAIL_PATH = r\"D:\\pali-dhatu-app\\src\\pages\\VerseDetailPage.js\"\nKATHA_RENDERER_PATH = r\"D:\\pali-dhatu-app\\src\\components\\KathaRenderer.js\"\n# --- 1. Update App.css ---\nwith open(APP_CSS_PATH, \"r\", encoding=\"utf-8\") as f:\n    css_content = f.read()\n# Replace dhātu-card style for better mobile/modern look\nnew_dhatu_card_style = \"\"\"\n.dhātu-card {",
        "detail": "scripts.update_ui_modern",
        "documentation": {}
    },
    {
        "label": "DHATU_DETAIL_PATH",
        "kind": 5,
        "importPath": "scripts.update_ui_modern",
        "description": "scripts.update_ui_modern",
        "peekOfCode": "DHATU_DETAIL_PATH = r\"D:\\pali-dhatu-app\\src\\components\\DhatuDetail.js\"\nVERSE_DETAIL_PATH = r\"D:\\pali-dhatu-app\\src\\pages\\VerseDetailPage.js\"\nKATHA_RENDERER_PATH = r\"D:\\pali-dhatu-app\\src\\components\\KathaRenderer.js\"\n# --- 1. Update App.css ---\nwith open(APP_CSS_PATH, \"r\", encoding=\"utf-8\") as f:\n    css_content = f.read()\n# Replace dhātu-card style for better mobile/modern look\nnew_dhatu_card_style = \"\"\"\n.dhātu-card {\n  width: 100%;",
        "detail": "scripts.update_ui_modern",
        "documentation": {}
    },
    {
        "label": "VERSE_DETAIL_PATH",
        "kind": 5,
        "importPath": "scripts.update_ui_modern",
        "description": "scripts.update_ui_modern",
        "peekOfCode": "VERSE_DETAIL_PATH = r\"D:\\pali-dhatu-app\\src\\pages\\VerseDetailPage.js\"\nKATHA_RENDERER_PATH = r\"D:\\pali-dhatu-app\\src\\components\\KathaRenderer.js\"\n# --- 1. Update App.css ---\nwith open(APP_CSS_PATH, \"r\", encoding=\"utf-8\") as f:\n    css_content = f.read()\n# Replace dhātu-card style for better mobile/modern look\nnew_dhatu_card_style = \"\"\"\n.dhātu-card {\n  width: 100%;\n  max-width: 340px;",
        "detail": "scripts.update_ui_modern",
        "documentation": {}
    },
    {
        "label": "KATHA_RENDERER_PATH",
        "kind": 5,
        "importPath": "scripts.update_ui_modern",
        "description": "scripts.update_ui_modern",
        "peekOfCode": "KATHA_RENDERER_PATH = r\"D:\\pali-dhatu-app\\src\\components\\KathaRenderer.js\"\n# --- 1. Update App.css ---\nwith open(APP_CSS_PATH, \"r\", encoding=\"utf-8\") as f:\n    css_content = f.read()\n# Replace dhātu-card style for better mobile/modern look\nnew_dhatu_card_style = \"\"\"\n.dhātu-card {\n  width: 100%;\n  max-width: 340px;\n  background-color: var(--white);",
        "detail": "scripts.update_ui_modern",
        "documentation": {}
    },
    {
        "label": "new_dhatu_card_style",
        "kind": 5,
        "importPath": "scripts.update_ui_modern",
        "description": "scripts.update_ui_modern",
        "peekOfCode": "new_dhatu_card_style = \"\"\"\n.dhātu-card {\n  width: 100%;\n  max-width: 340px;\n  background-color: var(--white);\n  border: none;\n  border-radius: 20px; /* Modern rounded corners */\n  padding: 24px;\n  text-align: left;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.06); /* Soft, modern shadow */",
        "detail": "scripts.update_ui_modern",
        "documentation": {}
    },
    {
        "label": "css_content",
        "kind": 5,
        "importPath": "scripts.update_ui_modern",
        "description": "scripts.update_ui_modern",
        "peekOfCode": "css_content = re.sub(r\"\\.dhātu-card\\s*\\{[^}]*\\}\", new_dhatu_card_style.strip(), css_content)\n# Add helper classes for \"No Wrap Title\" and Katha styling\nadditional_css = \"\"\"\n/* --- Modern UI Helpers --- */\n.nowrap-title {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 100%;\n  display: block;",
        "detail": "scripts.update_ui_modern",
        "documentation": {}
    },
    {
        "label": "additional_css",
        "kind": 5,
        "importPath": "scripts.update_ui_modern",
        "description": "scripts.update_ui_modern",
        "peekOfCode": "additional_css = \"\"\"\n/* --- Modern UI Helpers --- */\n.nowrap-title {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 100%;\n  display: block;\n  line-height: 1.4;\n}",
        "detail": "scripts.update_ui_modern",
        "documentation": {}
    },
    {
        "label": "detail_card_style",
        "kind": 5,
        "importPath": "scripts.update_ui_modern",
        "description": "scripts.update_ui_modern",
        "peekOfCode": "detail_card_style = \"\"\"\n.detail-card {\n    background-color: var(--white);\n    border-radius: 16px;\n    padding: 24px;\n    box-shadow: 0 8px 20px rgba(0,0,0,0.05);\n    margin-bottom: 0; /* Let grid handle gap */\n    transition: transform 0.2s;\n}\n.detail-card:hover {",
        "detail": "scripts.update_ui_modern",
        "documentation": {}
    },
    {
        "label": "VERSE_DETAIL_PATH",
        "kind": 5,
        "importPath": "scripts.update_verse_page",
        "description": "scripts.update_verse_page",
        "peekOfCode": "VERSE_DETAIL_PATH = r\"D:\\pali-dhatu-app\\src\\pages\\VerseDetailPage.js\"\nwith open(VERSE_DETAIL_PATH, \"r\", encoding=\"utf-8\") as f:\n    content = f.read()\nold_str = '<h2>ธาตุในคาถาที่ {id}</h2>'\nnew_str = '<h2 className=\"nowrap-title\">ธาตุในคาถาที่ {id}</h2>'\nif old_str in content:\n    content = content.replace(old_str, new_str)\n    with open(VERSE_DETAIL_PATH, \"w\", encoding=\"utf-8\") as f:\n        f.write(content)\n    print(\"VerseDetailPage updated.\")",
        "detail": "scripts.update_verse_page",
        "documentation": {}
    },
    {
        "label": "old_str",
        "kind": 5,
        "importPath": "scripts.update_verse_page",
        "description": "scripts.update_verse_page",
        "peekOfCode": "old_str = '<h2>ธาตุในคาถาที่ {id}</h2>'\nnew_str = '<h2 className=\"nowrap-title\">ธาตุในคาถาที่ {id}</h2>'\nif old_str in content:\n    content = content.replace(old_str, new_str)\n    with open(VERSE_DETAIL_PATH, \"w\", encoding=\"utf-8\") as f:\n        f.write(content)\n    print(\"VerseDetailPage updated.\")\nelse:\n    print(\"Target string not found.\")",
        "detail": "scripts.update_verse_page",
        "documentation": {}
    },
    {
        "label": "new_str",
        "kind": 5,
        "importPath": "scripts.update_verse_page",
        "description": "scripts.update_verse_page",
        "peekOfCode": "new_str = '<h2 className=\"nowrap-title\">ธาตุในคาถาที่ {id}</h2>'\nif old_str in content:\n    content = content.replace(old_str, new_str)\n    with open(VERSE_DETAIL_PATH, \"w\", encoding=\"utf-8\") as f:\n        f.write(content)\n    print(\"VerseDetailPage updated.\")\nelse:\n    print(\"Target string not found.\")",
        "detail": "scripts.update_verse_page",
        "documentation": {}
    },
    {
        "label": "db_path",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "db_path = \"dpd_data/dpd.db\"\noutput_path = \"data/vocab-dpd.js\"\nprint(f\"Connecting to {db_path}...\")\nconn = sqlite3.connect(db_path)\nconn.row_factory = sqlite3.Row\ncursor = conn.cursor()\nprint(\"Querying headwords...\")\ncursor.execute(\"SELECT lemma_1, pos, meaning_1, meaning_lit, construction FROM dpd_headwords\")\nrows = cursor.fetchall()\ndictionary = {}",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "output_path",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "output_path = \"data/vocab-dpd.js\"\nprint(f\"Connecting to {db_path}...\")\nconn = sqlite3.connect(db_path)\nconn.row_factory = sqlite3.Row\ncursor = conn.cursor()\nprint(\"Querying headwords...\")\ncursor.execute(\"SELECT lemma_1, pos, meaning_1, meaning_lit, construction FROM dpd_headwords\")\nrows = cursor.fetchall()\ndictionary = {}\ncount = 0",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "conn",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "conn = sqlite3.connect(db_path)\nconn.row_factory = sqlite3.Row\ncursor = conn.cursor()\nprint(\"Querying headwords...\")\ncursor.execute(\"SELECT lemma_1, pos, meaning_1, meaning_lit, construction FROM dpd_headwords\")\nrows = cursor.fetchall()\ndictionary = {}\ncount = 0\nfor row in rows:\n    lemma = row['lemma_1']",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "conn.row_factory",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "conn.row_factory = sqlite3.Row\ncursor = conn.cursor()\nprint(\"Querying headwords...\")\ncursor.execute(\"SELECT lemma_1, pos, meaning_1, meaning_lit, construction FROM dpd_headwords\")\nrows = cursor.fetchall()\ndictionary = {}\ncount = 0\nfor row in rows:\n    lemma = row['lemma_1']\n    # Clean lemma: remove digits and dots at the end (e.g., \"metta 1\", \"a 1.1\")",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "cursor",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "cursor = conn.cursor()\nprint(\"Querying headwords...\")\ncursor.execute(\"SELECT lemma_1, pos, meaning_1, meaning_lit, construction FROM dpd_headwords\")\nrows = cursor.fetchall()\ndictionary = {}\ncount = 0\nfor row in rows:\n    lemma = row['lemma_1']\n    # Clean lemma: remove digits and dots at the end (e.g., \"metta 1\", \"a 1.1\")\n    # Usually it is \"word digit\" or \"word digit.digit\"",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "rows",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "rows = cursor.fetchall()\ndictionary = {}\ncount = 0\nfor row in rows:\n    lemma = row['lemma_1']\n    # Clean lemma: remove digits and dots at the end (e.g., \"metta 1\", \"a 1.1\")\n    # Usually it is \"word digit\" or \"word digit.digit\"\n    # But sometimes the word itself might have numbers? Unlikely for Pali.\n    word = re.sub(r'\\s+\\d+(\\.\\d+)?$', '', lemma).strip()\n    meaning = row['meaning_1']",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "dictionary",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "dictionary = {}\ncount = 0\nfor row in rows:\n    lemma = row['lemma_1']\n    # Clean lemma: remove digits and dots at the end (e.g., \"metta 1\", \"a 1.1\")\n    # Usually it is \"word digit\" or \"word digit.digit\"\n    # But sometimes the word itself might have numbers? Unlikely for Pali.\n    word = re.sub(r'\\s+\\d+(\\.\\d+)?$', '', lemma).strip()\n    meaning = row['meaning_1']\n    if not meaning:",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "count",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "count = 0\nfor row in rows:\n    lemma = row['lemma_1']\n    # Clean lemma: remove digits and dots at the end (e.g., \"metta 1\", \"a 1.1\")\n    # Usually it is \"word digit\" or \"word digit.digit\"\n    # But sometimes the word itself might have numbers? Unlikely for Pali.\n    word = re.sub(r'\\s+\\d+(\\.\\d+)?$', '', lemma).strip()\n    meaning = row['meaning_1']\n    if not meaning:\n        continue",
        "detail": "extract_dpd",
        "documentation": {}
    },
    {
        "label": "final_dict",
        "kind": 5,
        "importPath": "extract_dpd",
        "description": "extract_dpd",
        "peekOfCode": "final_dict = {}\nfor k, v in dictionary.items():\n    final_dict[k] = \"<br>\".join(v)\nprint(\"Writing to file...\")\nwith open(output_path, \"w\", encoding=\"utf-8\") as f:\n    f.write(\"const vocabDPD = \")\n    json.dump(final_dict, f, ensure_ascii=False)\n    f.write(\";\")\nprint(f\"Done. Saved to {output_path}\")",
        "detail": "extract_dpd",
        "documentation": {}
    }
]

import json

def update_file():
    file_path = r"d:\pali-theonlyone\data\raw\vocab-insan-pr9-5-8.js"
    
    with open(file_path, 'r', encoding='utf-8') as f:
        lines = f.readlines()
    
    new_lines = []
    skip_mode = False
    
    # User provided entries
    user_entries = {
        "อาจิกฺขถ": "ก. (ตุมฺเห อ. ท่าน ท.) จงบอก อา บทหน้า + จิกฺข ธาตุ ในความบอก + อ ปัจจัย ในกัตตุวาจก + ถ ปัญจมีวิภัตติ สำเร็จรูปเป็น อาจิกฺขถ",
        "อาจิกฺขนฺต": "ก. บอกอยู่, เมื่อบอก อา บทหน้า + จิกฺข ธาตุ ในความบอก + อ ปัจจัย ในกัตตุวาจก + อนฺต ปัจจัย ได้รูปเป็น อาจิกฺขนฺต ดู อกฺกมนฺต",
        "อาจิกฺขามิ": "ก. (อหํ อ. เรา) จะบอก อา บทหน้า + จิกฺข ธาตุ ในความบอก + อ ปัจจัย ในกัตตุวาจก + มิ วัตตมานาวิภัตติ มิ อยู่หลัง ทีฆะ อ ที่สุดธาตุ เป็น อา สำเร็จรูปเป็น อาจิกฺขามิ",
        "อาจิกฺขาหิ": "ก. (ตฺวํ อ. ท่าน) จงบอก อา บทหน้า + จิกฺข ธาตุ ในความบอก + อ ปัจจัย ในกัตตุวาจก + หิ ปัญจมีวิภัตติ หิ อยู่หลัง ทีฆะ อ ที่สุดธาตุ เป็น อา สำเร็จรูปเป็น อาจิกฺขาหิ",
        "อาจิกฺขิ": "ก. (เช่น ปุริโส อ. บุรุษ) บอกแล้ว อา บทหน้า + จิกฺข ธาตุ ในความบอก + อ ปัจจัย ในกัตตุวาจก + อี อัชชัตตนีวิภัตติ รัสสะ อี เป็น อิ สำเร็จรูปเป็น อาจิกฺขิ",
        "อาจิกฺขิตฺวา": "ก. บอกแล้ว อา บทหน้า + จิกฺข ธาตุ ในความบอก + ตฺวา ปัจจัย ลง อิ อาคม สำเร็จรูปเป็น อาจิกฺขิตฺวา",
        "อาจิกฺขิสฺสํ": "ก. (อหํ อ. เรา) จักบอก อา บทหน้า + จิกฺข ธาตุ ในความบอก + อ ปัจจัย ในกัตตุวาจก + สฺสํ ภวิสสันติวิภัตติ ลง อิ อาคม สำเร็จรูปเป็น อาจิกฺขิสฺสํ",
        "อาจิกฺขิสฺสสิ": "ก. (ตฺวํ อ. ท่าน) จักบอก อา บทหน้า + จิกฺข ธาตุ ในความบอก + อ ปัจจัย ในกัตตุวาจก + สฺสสิ ภวิสสันติวิภัตติ ลง อิ อาคม สำเร็จรูปเป็น อาจิกฺขิสฺสสิ",
        "อาจิกฺขิสฺสามิ": "ก. (อหํ อ. เรา) จักบอก อา บทหน้า + จิกฺข ธาตุ ในความบอก + อ ปัจจัย ในกัตตุวาจก + สฺสามิ ภวิสสันติวิภัตติ ลง อิ อาคม สำเร็จรูปเป็น อาจิกฺขิสฺสามิ",
        "อาจิกฺขึสุ": "ก. (เช่น ชนา อ. ชน ท.) บอกแล้ว อา บทหน้า + จิกฺข ธาตุ ในความบอก + อ ปัจจัย ในกัตตุวาจก + อุํ อัชชัตตนีวิภัตติ แปลง อุํ เป็น อึสุ สำเร็จรูปเป็น อาจิกฺขึสุ",
        "อาจิณฺณ": "ก. อัน... ประพฤติยิ่งแล้ว อา บทหน้า + จร ธาตุ ในความประพฤติ + ต ปัจจัย แปลง ต เป็น ณฺณ แปลง อ ที่ จ เป็น อิ ลบ รฺ ที่สุดธาตุ ได้รูปเป็น อาจิณฺณ ดู อกต",
        "อาจิณฺณวเสน": "น.,ปุ. ด้วยอำนาจแห่งวาทะอัน ตนประพฤติยิ่งแล้ว เป็นฉัฏฐีตัปปุริสสมาส วิ.ว่า อาจิณฺณสฺส (วาทสฺส) วโส = อาจิณฺณวโส แจกเหมือน ปุริส",
        "อาจินํ": "ก. สั่งสมอยู่ ศัพท์เดิมเป็น อาจินนฺต อ การันต์ ในปุงลิงค์ ลง สิ ปฐมาวิภัตติ ฝ่ายเอก วจนะ แปลง นฺต กับ สิ เป็น อํ สำเร็จรูปเป็น อาจินํ, ปุคฺคโล อ. บุคคล อาจินํ สั่งสมอยู่ แจกเหมือน ภวนฺต",
        "อาจินนฺต": "ก. สั่งสมอยู่ อา บทหน้า + จิ ธาตุ ในความสั่งสม + นา ปัจจัยในกัตตุวาจก + อนฺต ปัจจัย เพราะ อ หลัง ลบ อา ที่ นา ได้รูปเป็น อาจินนฺต ดู อกฺกมนฺต",
        "อาชีวก": "น.,ปุ. อาชีวก (นักบวชนอกพระพุทธ ศาสนา) แจกเหมือน ปุริส เช่น ป.เอก. อาชีวโก อ. อาชีวก",
        "อาชีวปาริสุทฺธิ ๑": "น.,อิต. อาชีวปาริสุทธิ แจก เหมือน รตฺติ เช่น ป.เอก. อาชีวปาริสุทฺธิ อ. อาชีวปาริสุทธิ [เป็นชื่อของศีล แปลว่า อ. อาชีวปาริสุทธิศีล]",
        "อาชีวปาริสุทฺธิ ๒": "น.,อิต. ความหมดจดแห่ง อาชีวะ แจกเหมือน รตฺติ เช่น ป.เอก. อาชีว ปาริสุทฺธิ อ. ความหมดจดแห่งอาชีวะ เป็น ฉัฏฐีตัปปุริสสมาส วิ.ว่า อาชีวสฺส ปาริสุทฺธิ = อาชีวปาริสุทฺธิ คำว่า ปาริสุทฺธิ มาจาก ปริ + สุธ ธาตุ ในความหมดจด + ติ ปัจจัย ทีฆะ อ ที่ ป เป็น อา แปลง ติ เป็น ทฺธิ ลบ ธ ที่สุดธาตุ ได้รูปเป็น ปาริสุทฺธิ แปลว่า ความหมดจด, ความหมดจดรอบ, ความบริสุทธิ์ เป็นภาวรูป ภาวสาธนะ วิ.ว่า ปริสุชฺฌนํ = ปาริสุทฺธิ ความ หมดจดรอบ ชื่อว่า ปาริสุทฺธิๆ ความหมดจดรอบ",
        "อาณตฺต": "ก. อัน...สั่งบังคับแล้ว อาณ ธาตุ ในความบังคับ + ต ปัจจัย ซ้อน ตฺ ได้รูปเป็น อาณตฺต ดู อกต"
    }

    ana_1 = "น., อิต. อาชญา แจกเหมือน กญฺญา เช่น ป. เอก. อาณา อ. อาชญา"
    ana_2 = "น., อิต. การบังคับ, การสั่งบังคับ แจก เหมือน กญฺญา เช่น ป. เอก. อาณา อ. การสั่ง บังคับ มาจาก อาณ ธาตุ ในความบังคับ + อ ปัจจัย ลง อา เครื่องหมายอิตถีลิงค์ ได้รูปเป็น อาณา แปลว่า การบังคับ, การสั่งบังคับ เป็น"

    inserted = False

    for line in lines:
        stripped = line.strip()
        
        # Start replacement at อาจิกฺขามิ (which is the first line of the block to be replaced, though we insert earlier keys first)
        if '"อาจิกฺขามิ":' in stripped:
            skip_mode = True
            
            # Insert all user entries in order
            for key, content in user_entries.items():
                new_lines.append(f'  "{key}": "{content}",\n')
            
            # Append extracted entries
            new_lines.append(f'  "อาณา ๑": "{ana_1}",\n')
            new_lines.append(f'  "อาณา ๒": "{ana_2}",\n')
            inserted = True
            continue
            
        if skip_mode:
            # Check for end of block (อาณตฺต)
            # We want to skip อาณตฺต itself as we already inserted the new version
            if '"อาณตฺต":' in stripped:
                skip_mode = False
                continue # Skip the old อาณตฺต line
            
            # Also skip garbage keys inside the block
            if '"ฉัฏฐีตัปปุริสสมาส":' in stripped or '"ภาวสาธนะ":' in stripped:
                continue
                
            # If we encounter any other key not in our list (except the garbage ones we handled),
            # we should probably output it if it's NOT one of the keys we just replaced.
            # But the block is contiguous from อาจิกฺขามิ to อาณตฺต.
            # Let's verify if there are any *other* keys in between that we might lose.
            # Based on previous read:
            # อาจิกฺขามิ ... อาจิกฺขึสุ ... อาจิณฺณ ... อาจิณฺณวเสน ... อาจินํ ... อาจินนฺต ... อาชีวก ... ฉัฏฐี... ภาว... อาณตฺต
            # All these are covered by replacement or garbage removal.
            
            continue

        new_lines.append(line)

    with open(file_path, 'w', encoding='utf-8') as f:
        f.writelines(new_lines)

if __name__ == "__main__":
    update_file()

import json
import re

file_path = r'd:\pali-theonlyone\data\raw\vocab-insan-pr9-5-8.js'

# User provided content, manually cleaned to single lines
updates = {
    "อาคนฺตุก ๑": "น.,ปุ. อาคันตุกะ แจกเหมือน ปุริส เช่น อา.เอก อาคนฺตุก ดูก่อนอาคันตุกะ",
    "อาคนฺตุก ๒": "ว. ผู้จรมา ปุ. แจกเหมือน ปุริส เช่น ป.เอก. อาคนฺตุโก (ภิกฺขุ) อ. ภิกษุ ผู้จรมา คำว่า อาคนฺตุก มาจาก อา บทหน้า + คม ธาตุ ใน ความไป มี อา อยู่หน้า แปลว่า มา + ตุก ปัจจัย ในนามกิตก์ (นอกแบบ) แปลง ม ที่สุดธาตุ เป็น นฺ ได้รูปเป็น อาคนฺตุก แปลว่า ผู้จรมา เป็น กัตตุรูป กัตตุสาธนะ วิ.ว่า อาคจฺฉตีติ อาคนฺตุโก (ภิกฺขุ) ภิกษุใด ย่อมจรมา เหตุนั้น ภิกษุนั้น ชื่อว่า อาคนฺตุโกๆ ผู้จรมา",
    "อาคนฺตุกทาน": "น.,นปุ. ทานเพื่อภิกษุผู้จรมา แจกเหมือน กุล เช่น ป.เอก. อาคนฺตุกทานํ อ. ทานเพื่อภิกษุผู้จรมา เป็นจตุตถีตัปปุริสสมาส วิ.ว่า อาคนฺตุกสฺส ทานํ = อาคนฺตุกทานํ",
    "อาคนฺตุกภิกฺขุ": "น.,ปุ. ภิกษุผู้จรมา แจกเหมือน ครุ เช่น ป.เอก. อาคนฺตุกภิกฺขุ อ. ภิกษุผู้จรมา เป็น วิเสสนบุพพบท กัมมธารยสมาส วิ.ว่า อาคนฺตุโก ภิกฺขุ = อาคนฺตุกภิกฺขุ",
    "อาคนฺตุกภิกฺขุวตฺถุ": "น.,นปุ. อ. เรื่องแห่งภิกษุ ผู้จรมา เป็นฉัฏฐีตัปปุริสสมาส มีวิเสสนบุพพบท กัมมธารยสมาส เป็นภายใน มีวิเคราะห์ตาม ลำดับ ดังนี้ วิ.บุพ.กัม.วิ. อาคนฺตุโก ภิกฺขุ = อาคนฺตุกภิกฺขุ ฉ.ตัป.วิ. อาคนฺตุกภิกฺขุสฺส วตฺถุ = อาคนฺตุกภิกฺขุวตฺถุ",
    "อาคนฺตุกวตฺตาทีนิ": "ว.,นปุ. (วตฺตานิ) ซึ่งวัตร ท. มีวัตรเพื่อภิกษุผู้จรมาเป็นต้น เป็นฉัฏฐี ตุลยาธิกรณพหุพพิหิสมาส มีจตุตถีตัปปุริสสมาส เป็นภายใน มีวิเคราะห์ตามลำดับ ดังนี้ จตุ.ตัป.วิ. อาคนฺตุกสฺส วตฺตํ = อาคนฺตุกวตฺตํ ฉ.ตุล.วิ. อาคนฺตุกวตฺตํ อาทิ เยสํ ตานิ อาคนฺตุก- วตฺตาทีนิ (วตฺตานิ)",
    "อาคนฺตุกาม": "ว. ผู้ใคร่เพื่ออันมา, ผู้ประสงค์เพื่อ อันมา เป็นจตุตถีตัปปุริสสมาส ปุ. แจกเหมือน ปุริส เช่น ป.เอก. อาคนฺตุกาโม (เถโร) อ. พระเถระ ผู้ใคร่เพื่ออันมา วิ.ว่า อาคนฺตุํ กาโม = อาคนฺตุกาโม (เถโร) [บทสมาส ลบนิคคหิต บทหน้า]",
    "อาคนฺตุํ": "น. อ. อันอัน…มา, เพื่ออันมา อา บทหน้า + คม ธาตุ ในความไป มี อา อยู่หน้า แปลว่า มา + ตุํปัจจัย แปลง ม ที่สุดธาตุ เป็น นฺ สำเร็จรูป เป็น อาคนฺตุํ ใช้แทนปฐมาวิภัตติ แปลว่า อ. อัน อัน...มา ใช้แทนจตุตถีวิภัตติ แปลว่า เพื่ออันมา",
    "อาคนฺตฺวา": "ก. มาแล้ว อา บทหน้า + คม ธาตุ ในความไป มี อา อยู่หน้า แปลว่า มา + ตฺวา ปัจจัย แปลง ม ที่สุด ธาตุ เป็น นฺ สำเร็จรูปเป็น อาคนฺตฺวา",
    "อาคมน": "น.,นปุ. การมา แจกเหมือน กุล เช่น ทุ.เอก. อาคมนํ ซึ่งการมา เฉพาะปัญจมีวิภัตติ ฝ่ายเอกวจนะ ลง โต ปัจจัย เป็น อาคมนโต บ้าง คำว่า อาคมน มาจาก อา บทหน้า + คม ธาตุ ในความไป มี อา อยู่หน้า แปลว่า มา + ยุ ปัจจัย แปลง ยุ เป็น อน ได้รูปเป็น อาคมน แปลว่า การมา เป็นภาวรูป ภาวสาธนะ วิ.ว่า อาคมนํ = อาคมนํ การมา ชื่อว่า อาคมนํๆ การมา",
    "อาคมนกาล": "น.,ปุ. กาลเป็นที่มา แจกเหมือน ปุริส เช่น ส.เอก. อาคมนกาเล ในกาลเป็นที่มา เป็น วิเสสนบุพพบท กัมมธารยสมาส วิ.ว่า อาคมโน กาโล = อาคมนกาโล คำว่า อาคมน ในคำว่า อาคมนกาเล มาจาก อา บทหน้า + คม ธาตุ ในความไป มี อา อยู่หน้า แปลว่า มา + ยุ ปัจจัย แปลง ยุ เป็น อน ได้รูปเป็น อาคมน แปลว่า เป็นที่มา เป็นกัตตุรูป อธิกรณสาธนะ วิ.ว่า อาคจฺฉติ เอตฺถาติอาคมโน (กาโล) พระศาสดา ย่อมเสด็จมา ในกาลนั่น เหตุนั้น กาลนั่น ชื่อว่า อาคมโนๆ เป็นที่เสด็จมา"
}

with open(file_path, 'r', encoding='utf-8') as f:
    lines = f.readlines()

new_lines = []
processed_keys = set()

for line in lines:
    updated = False
    for key, content in updates.items():
        # Match "key": "..."
        # We need to be careful about substrings, so we check startswith match
        # or Regex match
        
        # Construct the start pattern of the line
        pattern = f'  "{key}":'
        
        if line.strip().startswith(f'"{key}":'):
            # Found the line! Replace content.
            # Preserve comma if it exists, but since we are replacing lines, we should ensure comma is there if not last line
            # But simpler: just reconstruct the line.
            # Most lines have comma at the end.
            
            # Check if original line had comma
            has_comma = line.strip().endswith(',')
            comma = ',' if has_comma else ''
            
            # Use the new content
            new_line = f'  "{key}": "{content}"{comma}\n'
            new_lines.append(new_line)
            processed_keys.add(key)
            updated = True
            print(f"Updated: {key}")
            break
            
    if not updated:
        new_lines.append(line)

# Verify all keys were processed
for key in updates:
    if key not in processed_keys:
        print(f"Warning: Key not found in file: {key}")

with open(file_path, 'w', encoding='utf-8') as f:
    f.writelines(new_lines)

print("Updates completed.")
